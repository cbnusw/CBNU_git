(this.webpackJsonp=this.webpackJsonp||[]).push([[170],{113:function(t,e,n){"use strict";n.r(e);var r=n(88),i=n(70),o=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(o.a)(document,gon),new r.a,new i.a}))},1158:function(t,e,n){"use strict";var r=n(795),i=n(553),o=n(1236),a=n(1237),s=n(1),l=n(387),c=n(45),u=n(325),d=(n(89),n(312)),p=n.n(d),f=n(384),h=(n(42),n(55),n(91),n(210)),b=n.n(h),m=/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])(?: (0[0-9]|1[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]))?$/,g=[{duration:{seconds:1800},label:Object(s.a)("30 minutes")},{duration:{seconds:10800},label:Object(s.a)("3 hours")},{duration:{seconds:28800},label:Object(s.a)("8 hours"),default:!0},{duration:{seconds:86400},label:Object(s.a)("1 day")}],v=g.find((function(t){return t.default})),y="yyyy-mm-dd'T'HH:MM:ss'Z'",_="yyyy-mm-dd HH:MM:ss",O=function(t){try{return!(!t||!t.trim())&&(b()(t,"isoDateTime"),!0)}catch(t){return!1}},j=function(t){return b()(new Date(t.replace(/-/g,"/")),y,!0)},w=function(t){return m.test(t)},S={invalidFeedback:Object(s.e)(Object(s.a)("Format: %{dateFormat}"),{dateFormat:_}),placeholder:_},E={components:{GlFormGroup:r.a,GlFormInput:f.a},props:{state:{default:null,required:!0,validator:function(t){return"boolean"==typeof t||null===t}},value:{default:null,required:!1,validator:function(t){return"string"==typeof t||null===t}},label:{type:String,default:"",required:!0},id:{type:String,required:!1,default:function(){return p()("dateTimePicker_")}}},data:function(){return{inputGroupText:S}},computed:{invalidFeedback:function(){return this.state?"":this.inputGroupText.invalidFeedback},inputState:function(){return!0===this.state?null:this.state}},methods:{onInputBlur:function(t){this.$emit("input",t.target.value.trim()||null)}}},C=n(4),D=Object(C.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-form-group",{attrs:{label:t.label,"label-size":"sm","label-for":t.id,"invalid-feedback":t.invalidFeedback}},[n("gl-form-input",{attrs:{id:t.id,value:t.value,state:t.inputState,placeholder:t.inputGroupText.placeholder},on:{blur:t.onInputBlur}})],1)}),[],!1,null,null,null).exports,x="input",k="invalid",I={components:{Icon:c.a,TooltipOnTruncate:u.a,DateTimePickerInput:D,GlFormGroup:r.a,GlButton:i.a,GlDropdown:o.a,GlDropdownItem:a.a},props:{value:{type:Object,required:!1,default:function(){return v}},options:{type:Array,required:!1,default:function(){return g}},customEnabled:{type:Boolean,required:!1,default:!0}},data:function(){return{timeRange:this.value,startDate:"",endDate:""}},computed:{startInputValid:function(){return O(this.startDate)},endInputValid:function(){return O(this.endDate)},isValid:function(){return this.startInputValid&&this.endInputValid},startInput:{get:function(){return this.startInputValid?this.formatDate(this.startDate):this.startDate},set:function(t){this.startDate=w(t)?j(t):t,this.timeRange=null}},endInput:{get:function(){return this.endInputValid?this.formatDate(this.endDate):this.endDate},set:function(t){this.endDate=w(t)?j(t):t,this.timeRange=null}},timeWindowText:function(){try{var t=Object(l.b)(this.value,this.options);if(t)return t.label;var e=Object(l.a)(this.value),n=e.start,r=e.end;if(O(n)&&O(r))return Object(s.e)(Object(s.a)("%{start} to %{end}"),{start:this.formatDate(n),end:this.formatDate(r)})}catch(t){return Object(s.a)("Invalid date range")}return""}},watch:{value:function(t){var e=Object(l.a)(t),n=e.start,r=e.end;this.timeRange=this.value,this.startDate=n,this.endDate=r}},mounted:function(){try{var t=Object(l.a)(this.timeRange),e=t.start,n=t.end;this.startDate=e,this.endDate=n}catch(t){this.$emit(k)}this.isValid||this.$emit(k)},methods:{formatDate:function(t){return function(t){return b()(t,_)}(t).replace(" 00:00:00","")},closeDropdown:function(){this.$refs.dropdown.hide()},isOptionActive:function(t){return Object(l.c)(t,this.timeRange)},setQuickRange:function(t){this.timeRange=t,this.$emit(x,this.timeRange)},setFixedRange:function(){this.timeRange=Object(l.a)({start:this.startDate,end:this.endDate}),this.$emit(x,this.timeRange)}}},T=Object(C.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tooltip-on-truncate",{staticClass:"d-inline-block",attrs:{title:t.timeWindowText,"truncate-target":function(t){return t.querySelector(".date-time-picker-toggle")},placement:"top"}},[n("gl-dropdown",t._b({staticClass:"date-time-picker w-100",attrs:{text:t.timeWindowText,"menu-class":"date-time-picker-menu","toggle-class":"date-time-picker-toggle text-truncate"}},"gl-dropdown",t.$attrs,!1),[n("div",{staticClass:"d-flex justify-content-between gl-p-2"},[t.customEnabled?n("gl-form-group",{staticClass:"custom-time-range-form-group col-md-7 gl-pl-1 gl-pr-0 m-0",attrs:{label:t.__("Custom range"),"label-for":"custom-from-time","label-class":"gl-pb-1"}},[n("div",{staticClass:"gl-pt-2"},[n("date-time-picker-input",{attrs:{id:"custom-time-from",label:t.__("From"),state:t.startInputValid},model:{value:t.startInput,callback:function(e){t.startInput=e},expression:"startInput"}}),t._v(" "),n("date-time-picker-input",{attrs:{id:"custom-time-to",label:t.__("To"),state:t.endInputValid},model:{value:t.endInput,callback:function(e){t.endInput=e},expression:"endInput"}})],1),t._v(" "),n("gl-form-group",[n("gl-button",{on:{click:t.closeDropdown}},[t._v(t._s(t.__("Cancel")))]),t._v(" "),n("gl-button",{attrs:{variant:"success",disabled:!t.isValid},on:{click:function(e){return t.setFixedRange()}}},[t._v("\n            "+t._s(t.__("Apply"))+"\n          ")])],1)],1):t._e(),t._v(" "),n("gl-form-group",{staticClass:"col-md-5 gl-pl-1 gl-pr-1 m-0",attrs:{"label-for":"group-id-dropdown"},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{staticClass:"gl-pl-5"},[t._v(t._s(t.__("Quick range")))])]},proxy:!0}])},[t._v(" "),t._l(t.options,(function(e,r){return n("gl-dropdown-item",{key:r,attrs:{active:t.isOptionActive(e),"active-class":"active"},on:{click:function(n){return t.setQuickRange(e)}}},[n("icon",{staticClass:"align-bottom",class:{invisible:!t.isOptionActive(e)},attrs:{name:"mobile-issue-close"}}),t._v("\n          "+t._s(e.label)+"\n        ")],1)}))],2)],1)])],1)}),[],!1,null,null,null);e.a=T.exports},150:function(t,e,n){"use strict";var r=n(37);e.a={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return Object(r.a)(this.state)?this.state:null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null}}}},153:function(t,e,n){"use strict";var r=n(295),i=n(103),o=n(203),a=n(25),s=n(60),l=n.n(s);const c={components:{BButton:r.a,GlIcon:i.a},mixins:[o.a],props:{category:{type:String,required:!1,default:a.q.tertiary,validator:function(t){return Object.keys(a.q).includes(t)}},variant:{type:String,required:!1,default:a.t.default,validator:function(t){return Object.keys(a.t).includes(t)}},size:{type:String,required:!1,default:a.r.medium,validator:function(t){return Object.keys(a.r).includes(t)}},selected:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},label:{type:Boolean,required:!1,default:!1}},computed:{hasIcon:function(){return""!==this.icon},hasIconOnly:function(){return 0===Object.keys(this.$slots).length&&this.hasIcon},buttonClasses:function(){return{"btn-icon":this.hasIconOnly,"button-ellipsis-horizontal":this.hasIconOnly&&"ellipsis_h"===this.icon,"btn-secondary":this.category===a.q.secondary,"new-gl-button":this.variant!==a.t.link,"btn-label":this.label,selected:this.selected}},buttonSize:function(){return a.s[this.size]}}};const u=l()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",t._g(t._b({class:t.buttonClasses,attrs:{rel:t.relType,target:t.target,variant:t.variant,size:t.buttonSize}},"b-button",t.$attrs,!1),t.$listeners),[t.hasIcon?n("gl-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("emoji"),t._v(" "),t._t("default")],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=u},1578:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(63),i=n(102),o=n(79),a=n(181),s=n(353),l=n(809),c=n(810),u=n(544);function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p={id:{type:String},size:{type:String,default:function(){return Object(o.b)("BInputGroup","size")}},prepend:{type:String},prependHtml:{type:String},append:{type:String},appendHtml:{type:String},tag:{type:String,default:"div"}},f=r.a.extend({name:"BInputGroup",functional:!0,props:p,render:function(t,e){var n,r,o,p=e.props,f=e.data,h=e.slots,b=e.scopedSlots,m=h(),g=b||{},v=[];return p.prepend||p.prependHtml||Object(s.a)("prepend",g,m)?v.push(t(l.a,[p.prepend||p.prependHtml?t(u.a,{domProps:Object(a.a)(p.prependHtml,p.prepend)}):t(),Object(s.b)("prepend",{},g,m)||t()])):v.push(t()),Object(s.a)("default",g,m)?v.push.apply(v,d(Object(s.b)("default",{},g,m))):v.push(t()),p.append||p.appendHtml||Object(s.a)("append",g,m)?v.push(t(c.a,[p.append||p.appendHtml?t(u.a,{domProps:Object(a.a)(p.appendHtml,p.append)}):t(),Object(s.b)("append",{},g,m)||t()])):v.push(t()),t(p.tag,Object(i.a)(f,{staticClass:"input-group",class:(n={},r="input-group-".concat(p.size),o=Boolean(p.size),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),attrs:{id:p.id||null,role:"group"}}),v)}})},166:function(t,e,n){"use strict";var r=n(44);e.a={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String,default:null},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var t=this;this.$nextTick((function(){Object(r.t)((function(){var e=t.$el;t.autofocus&&Object(r.p)(e)&&(Object(r.q)(e,"input, textarea, select")||(e=Object(r.u)("input, textarea, select",e)),e&&e.focus&&e.focus())}))}))}}}},167:function(t,e,n){"use strict";var r=n(79);e.a={props:{size:{type:String,default:function(){return Object(r.b)("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}}},205:function(t,e,n){"use strict";var r=n(37);e.a={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function,default:null},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:this.stringifyValue(this.value),vModelValue:this.value}},computed:{computedDebounce:function(){return Math.max(parseInt(this.debounce,10)||0,0)},computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},watch:{value:function(t){var e=this.stringifyValue(t);e!==this.localValue&&t!==this.vModelValue&&(this.clearDebounce(),this.localValue=e,this.vModelValue=t)}},mounted:function(){this.$_inputDebounceTimer=null,this.$on("hook:beforeDestroy",this.clearDebounce);var t=this.value,e=this.stringifyValue(t);e!==this.localValue&&t!==this.vModelValue&&(this.localValue=e,this.vModelValue=t)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},stringifyValue:function(t){return Object(r.k)(t)?"":String(t)},formatValue:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=this.stringifyValue(t),this.lazyFormatter&&!n||!Object(r.d)(this.formatter)||(t=this.formatter(t,e)),t},modifyValue:function(t){if(this.trim&&(t=t.trim()),this.number){var e=parseFloat(t);t=isNaN(e)?t:e}return t},updateValue:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.lazy,i=this.computedDebounce;if((!r||n)&&(t=this.modifyValue(t))!==this.vModelValue){this.clearDebounce();var o=function(){e.vModelValue=t,e.$emit("update",t)};i>0&&!r&&!n?this.$_inputDebounceTimer=setTimeout(o,i):o()}},onInput:function(t){if(!t.target.composing){var e=t.target.value,n=this.formatValue(e,t);!1===n||t.defaultPrevented?t.preventDefault():(this.localValue=n,this.updateValue(n),this.$emit("input",n))}},onChange:function(t){if(!t.target.composing){var e=t.target.value,n=this.formatValue(e,t);!1===n||t.defaultPrevented?t.preventDefault():(this.localValue=n,this.updateValue(n,!0),this.$emit("change",n))}},onBlur:function(t){var e=t.target.value,n=this.formatValue(e,t,!0);!1!==n&&(this.localValue=this.stringifyValue(this.modifyValue(n)),this.updateValue(n,!0)),this.$emit("blur",t)},focus:function(){this.disabled||this.$el.focus()},blur:function(){this.disabled||this.$el.blur()}}}},206:function(t,e,n){"use strict";e.a={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(t){this.$refs.input.selectionStart=t}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(t){this.$refs.input.selectionEnd=t}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(t){this.$refs.input.selectionDirection=t}}},methods:{select:function(){var t;(t=this.$refs.input).select.apply(t,arguments)},setSelectionRange:function(){var t;(t=this.$refs.input).setSelectionRange.apply(t,arguments)},setRangeText:function(){var t;(t=this.$refs.input).setRangeText.apply(t,arguments)}}}},207:function(t,e,n){"use strict";e.a={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var t;return(t=this.$refs.input).setCustomValidity.apply(t,arguments)},checkValidity:function(){var t;return(t=this.$refs.input).checkValidity.apply(t,arguments)},reportValidity:function(){var t;return(t=this.$refs.input).reportValidity.apply(t,arguments)}}}},2353:function(t,e,n){n(105),n(113),t.exports=n(2465)},2465:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"setInitData",(function(){return mt})),n.d(r,"showPodLogs",(function(){return gt})),n.d(r,"setSearch",(function(){return vt})),n.d(r,"setTimeRange",(function(){return yt})),n.d(r,"showEnvironment",(function(){return _t})),n.d(r,"fetchEnvironments",(function(){return Ot})),n.d(r,"fetchLogs",(function(){return jt})),n.d(r,"fetchMoreLogsPrepend",(function(){return wt})),n.d(r,"default",(function(){return St}));var i={};n.r(i),n.d(i,"trace",(function(){return Ct})),n.d(i,"default",(function(){return Dt}));n(24),n(49),n(56),n(28),n(26),n(40),n(50),n(58),n(38),n(18),n(68),n(36),n(27),n(41);var o=n(17),a=n(33),s=(n(42),n(35),n(527)),l=n.n(s),c=n(22),u=n(2533),d=n(327),p=n(1236),f=n(1237),h=n(795),b=n(1578),m=n(809),g=n(810),v=n(103),y=n(153),_=n(44),O=n(2523),j=n(25),w={computed:{buttonSize:function(){return j.s[this.size]}}},S=n(60),E=n.n(S);var C=".dropdown-item:not(.disabled):not([disabled]),.form-control:not(.disabled):not([disabled])";const D={components:{BDropdown:{extends:O.a,methods:{getItems:function(){return(Object(_.v)(C,this.$refs.menu)||[]).filter(_.p)}}},GlIcon:v.a},mixins:[w],props:{headerText:{type:String,required:!1,default:""},text:{type:String,required:!1,default:""},split:{type:Boolean,required:!1,default:!1},category:{type:String,required:!1,default:j.q.tertiary,validator:function(t){return Object.keys(j.q).includes(t)}},variant:{type:String,required:!1,default:j.u.default,validator:function(t){return Object.keys(j.u).includes(t)}},size:{type:String,required:!1,default:j.r.medium,validator:function(t){return Object.keys(j.r).includes(t)}},icon:{type:String,required:!1,default:null}},computed:{renderCaret:function(){return!this.split},iconSize:function(){return this.size===j.r.small?j.k[0]:j.k[1]},toggleButtonClasses:function(){return{"btn-secondary":"secondary"===this.category,"dropdown-icon-only":!this.text.length&&this.icon,"dropdown-icon-text":this.text.length&&this.icon}},buttonText:function(){return this.split&&this.icon?null:this.text}},mounted:function(){this.split&&this.text&&this.$el.childNodes[0].classList.add("split-content-button"),this.split&&this.icon&&this.$el.childNodes[0].classList.add("icon-split-content-button")},methods:{hide:function(){var t;(t=this.$refs.dropdown).hide.apply(t,arguments)}}};var x=E()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-dropdown",t._g(t._b({ref:"dropdown",staticClass:"gl-new-dropdown",attrs:{split:t.split,variant:t.variant,size:t.buttonSize,"toggle-class":[t.toggleButtonClasses]}},"b-dropdown",t.$attrs,!1),t.$listeners),[t.headerText?n("p",{staticClass:"gl-new-dropdown-header-top"},[t._v(t._s(t.headerText))]):t._e(),t._v(" "),t._t("default"),t._v(" "),t._t("button-content",[t.icon?n("gl-icon",{staticClass:"dropdown-icon",attrs:{name:t.icon,size:t.iconSize}}):t._e(),t._v("\n    "+t._s(t.buttonText)+"\n    "),t.renderCaret?n("gl-icon",{staticClass:"dropdown-chevron",attrs:{name:"chevron-down"}}):t._e()],{slot:"button-content"})],2)},staticRenderFns:[]},void 0,D,void 0,!1,void 0,!1,void 0,void 0,void 0),k=n(2520),I=n(2521);const T={components:{GlIcon:v.a},inheritAttrs:!1,props:{avatarUrl:{type:String,isRequired:!1,default:""},iconColor:{type:String,isRequired:!1,default:""},iconName:{type:String,isRequired:!1,default:""},iconRightName:{type:String,isRequired:!1,default:""},isChecked:{type:Boolean,isRequired:!1,default:!1},isCheckItem:{type:Boolean,isRequired:!1,default:!1},secondaryText:{type:String,isRequired:!1,default:""}},computed:{bootstrapComponent:function(){return this.$attrs.href?k.a:I.a},iconColorCss:function(){return j.y[this.iconColor]||"gl-text-gray-700"},shouldShowCheckIcon:function(){return this.isChecked||this.isCheckItem}}};var P=E()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.bootstrapComponent,t._g(t._b({tag:"component",staticClass:"gl-new-dropdown-item"},"component",t.$attrs,!1),t.$listeners),[t.shouldShowCheckIcon?n("gl-icon",{class:["gl-new-dropdown-item-check-icon",{"gl-visibility-hidden":!t.isChecked}],attrs:{name:"mobile-issue-close"}}):t._e(),t._v(" "),t.iconName?n("gl-icon",{class:["gl-new-dropdown-item-icon",t.iconColorCss],attrs:{name:t.iconName}}):t._e(),t._v(" "),t.avatarUrl?n("gl-avatar",{attrs:{size:32,src:t.avatarUrl}}):t._e(),t._v(" "),n("div",{staticClass:"gl-new-dropdown-item-text-wrapper"},[n("p",{staticClass:"gl-new-dropdown-item-text-primary"},[t._t("default")],2),t._v(" "),t.secondaryText?n("p",{staticClass:"gl-new-dropdown-item-text-secondary"},[t._v(t._s(t.secondaryText))]):t._e()]),t._v(" "),t.iconRightName?n("gl-icon",{staticClass:"gl-new-dropdown-item-icon-right",attrs:{name:t.iconRightName}}):t._e()],1)},staticRenderFns:[]},void 0,T,void 0,!1,void 0,!1,void 0,void 0,void 0);const R={components:{BDropdownDivider:n(389).a},inheritAttrs:!1};var B=E()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-dropdown-divider",this._g(this._b({staticClass:"gl-new-dropdown-divider"},"b-dropdown-divider",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,R,void 0,!1,void 0,!1,void 0,void 0,void 0),A=n(63),$=n(102);const N={components:{BDropdownText:A.a.extend({name:"BDropdownText",functional:!0,props:{tag:{type:String,default:"p"},variant:{type:String,default:null}},render:function(t,e){var n,r,i,o=e.props,a=e.data,s=e.children,l=a.attrs||{};return a.attrs={},t("li",Object($.a)(a,{attrs:{role:"presentation"}}),[t(o.tag,{staticClass:"b-dropdown-text",class:(n={},r="text-".concat(o.variant),i=o.variant,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),props:o,attrs:l,ref:"text"},s)])}})},inheritAttrs:!1};var V=E()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-dropdown-text",this._g(this._b({staticClass:"gl-new-dropdown-text"},"b-dropdown-text",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,N,void 0,!1,void 0,!1,void 0,void 0,void 0),L=n(384),q=n(828);function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const G={components:{GlIcon:v.a,GlButton:y.a,GlFormInput:L.a,GlDropdown:x,GlDropdownText:V,GlDropdownItem:P,GlDropdownDivider:B,BInputGroup:b.a,BInputGroupPrepend:m.a,BInputGroupAppend:g.a},directives:{GlTooltip:q.a},props:{value:{type:String,required:!1,default:""},historyItems:{type:Array,required:!1,default:null},placeholder:{type:String,required:!1,default:"Search"},disabled:{type:Boolean,required:!1,default:!1},recentSearchesHeader:{type:String,required:!1,default:"Recent searches"},clearButtonTitle:{type:String,required:!1,default:"Clear"},closeButtonTitle:{type:String,required:!1,default:"Close"},clearRecentSearchesText:{type:String,required:!1,default:"Clear recent searches"},noRecentSearchesText:{type:String,required:!1,default:"You don't have any recent searches"},tooltipContainer:{required:!1,default:!1,validator:function(t){return!1===t||"string"==typeof t||t instanceof HTMLElement}}},data:function(){return{currentValue:null,isFocused:!1}},computed:{inputAttributes:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){F(t,e,n[e])}))}return t}({placeholder:this.placeholder},this.$attrs);return t["aria-label"]||(t["aria-label"]=t.placeholder),t},hasValue:function(){return Boolean(this.currentValue)}},watch:{value:{handler:function(t){this.currentValue=t},immediate:!0},currentValue:function(t){this.$emit("input",t)}},methods:{closeHistoryDropdown:function(){this.$refs.historyDropdown.hide()},search:function(t){this.$emit("submit",t)},selectHistoryItem:function(t){this.currentValue=t,this.search(t),setTimeout((function(){document.activeElement.blur()}))},clearInput:function(){this.currentValue=null,this.$refs.input.$el.focus()}}};var z=E()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-input-group",{staticClass:"gl-search-box-by-click"},[t.historyItems?n("b-input-group-prepend",{staticClass:"gl-search-box-by-click-input-group-control"},[t.historyItems?n("gl-dropdown",{ref:"historyDropdown",staticClass:"gl-search-box-by-click-history",attrs:{"menu-class":"gl-search-box-by-click-menu",disabled:t.disabled}},[n("template",{slot:"button-content"},[n("gl-icon",{staticClass:"gl-search-box-by-click-history-icon",attrs:{name:"history"}}),t._v(" "),n("gl-icon",{staticClass:"gl-search-box-by-click-history-icon-chevron",attrs:{name:"chevron-down"}})],1),t._v(" "),n("gl-dropdown-text",{staticClass:"gl-search-box-by-click-history-header"},[t._v("\n        "+t._s(t.recentSearchesHeader)+"\n        "),n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{container:t.tooltipContainer},expression:"{ container: tooltipContainer }",modifiers:{hover:!0}}],ref:"closeHistory",staticClass:"gl-search-box-by-click-close-history-button",attrs:{title:t.closeButtonTitle,name:"close",icon:"close"},on:{click:t.closeHistoryDropdown}})],1),t._v(" "),n("gl-dropdown-divider"),t._v(" "),t.historyItems.length?[t._l(t.historyItems,(function(e,r){return n("gl-dropdown-item",{key:r,staticClass:"gl-search-box-by-click-history-item",on:{click:function(n){return t.selectHistoryItem(e)}}},[t._t("history-item",[t._v(t._s(e))],{historyItem:e})],2)})),t._v(" "),n("gl-dropdown-divider"),t._v(" "),n("gl-dropdown-item",{ref:"clearHistory",on:{click:function(e){return t.$emit("clear-history")}}},[t._v(t._s(t.clearRecentSearchesText))])]:n("gl-dropdown-text",{staticClass:"gl-search-box-by-click-history-no-searches"},[t._v(t._s(t.noRecentSearchesText))])],2):t._e()],1):t._e(),t._v(" "),t._t("input",[n("gl-form-input",t._b({ref:"input",staticClass:"gl-search-box-by-click-input",attrs:{disabled:t.disabled},on:{focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(t.currentValue)}},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},"gl-form-input",t.inputAttributes,!1)),t._v(" "),t.hasValue&&!t.disabled?n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{container:t.tooltipContainer},expression:"{ container: tooltipContainer }",modifiers:{hover:!0}}],staticClass:"gl-search-box-by-click-icon-button gl-search-box-by-click-clear-button",attrs:{title:t.clearButtonTitle,name:"clear"},on:{click:t.clearInput}},[n("gl-icon",{attrs:{name:"clear"}})],1):t._e()]),t._v(" "),n("b-input-group-append",{staticClass:"gl-search-box-by-click-input-group-control"},[n("gl-button",{ref:"searchButton",staticClass:"gl-search-box-by-click-search-button",attrs:{icon:"search",disabled:t.disabled},on:{click:function(e){return t.search(t.currentValue)}}})],1)],2)},staticRenderFns:[]},void 0,G,void 0,!1,void 0,!1,void 0,void 0,void 0);const M={props:{totalItems:{type:Number,required:!1,default:0},fetchedItems:{type:Number,required:!0},maxListHeight:{type:Number,required:!1,default:0}},computed:{listHeight:function(){return{maxHeight:this.maxListHeight?"".concat(this.maxListHeight,"px"):"auto"}}},watch:{fetchedItems:function(t,e){if(t>e){var n=this.$refs.infiniteContainer,r=n.scrollHeight,i=n.scrollTop;0!==r&&0===i&&(this.$options.adjustScrollHeight=r)}}},mounted:function(){var t=this;this.$nextTick((function(){t.$listeners.topReached&&!t.$listeners.bottomReached&&t.scrollDown()}))},updated:function(){var t=this;this.$nextTick((function(){if(t.$options.adjustScrollHeight){var e=t.$refs.infiniteContainer.scrollHeight-t.$options.adjustScrollHeight-5;e<1&&(e=1),t.scrollTo({top:e}),t.$options.adjustScrollHeight=null}}))},methods:{scrollUp:function(){this.scrollTo({top:5})},scrollDown:function(){var t=this.$refs.infiniteContainer.scrollHeight;this.scrollTo({top:t-5})},scrollTo:function(t){var e=t.top;this.$refs.infiniteContainer.scrollTo({top:e})},topReached:l()((function(){this.$emit("topReached")}),1e3),bottomReached:l()((function(){this.$emit("bottomReached")}),1e3),itemsListHeight:function(){return this.$refs.infiniteContainer.scrollHeight},scrollTop:function(){return this.$refs.infiniteContainer.scrollTop},handleScroll:l()((function(){this.scrollTop()+this.maxListHeight>=this.itemsListHeight()?this.bottomReached():0===this.scrollTop()&&this.topReached()}))}};var H=E()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("header"),t._v(" "),n("div",t._g(t._b({ref:"infiniteContainer",staticClass:"gl-infinite-scroll-container",style:t.listHeight,on:{scroll:t.handleScroll}},"div",t.$attrs,!1),t.$listeners),[t._t("items")],2),t._v(" "),n("p",{staticClass:"gl-infinite-scroll-legend"},[t._t("default",[t._v("\n      Showing "+t._s(t.fetchedItems)+" of "+t._s(t.totalItems)+" items\n    ")],{fetchedItems:t.fetchedItems,totalItems:t.totalItems})],2)],2)},staticRenderFns:[]},void 0,M,void 0,!1,void 0,!1,void 0,void 0,void 0),U=n(1158),W=n(553),Q={components:{Icon:n(45).a,GlButton:W.a},directives:{GlTooltip:q.a},props:{scrollUpButtonDisabled:{type:Boolean,required:!1,default:!1},scrollDownButtonDisabled:{type:Boolean,required:!1,default:!1}},data:function(){return{scrollUpAvailable:Boolean(this.$listeners.scrollUp),scrollDownAvailable:Boolean(this.$listeners.scrollDown)}},methods:{handleRefreshClick:function(){this.$emit("refresh")},handleScrollUp:function(){this.$emit("scrollUp")},handleScrollDown:function(){this.$emit("scrollDown")}}},J=n(4),K=Object(J.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.scrollUpAvailable?n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:t.__("Scroll to top"),"aria-labelledby":"scroll-to-top"}},[n("gl-button",{staticClass:"btn-blank js-scroll-to-top",attrs:{id:"scroll-to-top","aria-label":t.__("Scroll to top"),disabled:t.scrollUpButtonDisabled},on:{click:function(e){return t.handleScrollUp()}}},[n("icon",{attrs:{name:"scroll_up"}})],1)],1):t._e(),t._v(" "),t.scrollDownAvailable?n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{disabled:t.scrollUpButtonDisabled,title:t.__("Scroll to bottom"),"aria-labelledby":"scroll-to-bottom"}},[n("gl-button",{staticClass:"btn-blank js-scroll-to-bottom",attrs:{id:"scroll-to-bottom","aria-label":t.__("Scroll to bottom"),"v-if":t.scrollDownAvailable,disabled:t.scrollDownButtonDisabled},on:{click:function(e){return t.handleScrollDown()}}},[n("icon",{attrs:{name:"scroll_down"}})],1)],1):t._e(),t._v(" "),n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ml-1 px-2 js-refresh-log",attrs:{id:"refresh-log",title:t.__("Refresh"),"aria-label":t.__("Refresh")},on:{click:t.handleRefreshClick}},[n("icon",{attrs:{name:"retry"}})],1)],1)}),[],!1,null,null,null).exports,Z=n(689),Y=n(437),X=(n(62),n(210)),tt=n.n(X),et=function(t){return tt()(t,'UTC:mmm dd HH:MM:ss.l"Z"')};function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){it(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ot,at={components:{GlSprintf:u.a,GlAlert:d.a,GlDropdown:p.a,GlDropdownItem:f.a,GlFormGroup:h.a,GlSearchBoxByClick:z,GlInfiniteScroll:H,DateTimePicker:U.a,LogControlButtons:K},filters:{formatDate:et},props:{environmentName:{type:String,required:!1,default:""},currentPodName:{type:[String,null],required:!1,default:null},environmentsPath:{type:String,required:!1,default:""},clusterApplicationsDocumentationPath:{type:String,required:!0}},traceHeight:600,data:function(){return{searchQuery:"",timeRanges:Z.b,isElasticStackCalloutDismissed:!1,scrollDownButtonDisabled:!0}},computed:rt({},Object(c.e)("environmentLogs",["environments","timeRange","logs","pods"]),{},Object(c.d)("environmentLogs",["trace"]),{timeRangeModel:{get:function(){return this.timeRange.selected},set:function(t){this.setTimeRange(t)}},showLoader:function(){return this.logs.isLoading},advancedFeaturesEnabled:function(){var t=this,e=this.environments.options.find((function(e){return e.name===t.environments.current}));return e&&e.enable_advanced_logs_querying},disableAdvancedControls:function(){return this.environments.isLoading||!this.advancedFeaturesEnabled},shouldShowElasticStackCallout:function(){return!this.isElasticStackCalloutDismissed&&this.disableAdvancedControls}}),mounted:function(){this.setInitData({timeRange:Object(Y.g)()||Z.a,environmentName:this.environmentName,podName:this.currentPodName}),this.fetchEnvironments(this.environmentsPath)},methods:rt({},Object(c.c)("environmentLogs",["setInitData","setSearch","setTimeRange","showPodLogs","showEnvironment","fetchEnvironments","fetchMoreLogsPrepend"]),{topReached:function(){this.logs.isLoading||this.fetchMoreLogsPrepend()},scrollDown:function(){this.$refs.infiniteScroll.scrollDown()},scroll:l()((function(t){var e=t.target,n=void 0===e?{}:e,r=n.scrollTop,i=void 0===r?0:r,o=n.clientHeight,a=void 0===o?0:o,s=n.scrollHeight,l=void 0===s?0:s;this.scrollDownButtonDisabled=i+a===l}),200)})},st=Object(J.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"environment-logs-viewer mt-3"},[t.shouldShowElasticStackCallout?n("gl-alert",{staticClass:"mb-3 js-elasticsearch-alert",on:{dismiss:function(e){t.isElasticStackCalloutDismissed=!0}}},[t._v("\n    "+t._s(t.s__("Environments|Install Elastic Stack on your cluster to enable advanced querying capabilities such as full text search."))+"\n    "),n("a",{attrs:{href:t.clusterApplicationsDocumentationPath}},[n("strong",[t._v("\n        "+t._s(t.s__("View Documentation"))+"\n      ")])])]):t._e(),t._v(" "),n("div",{staticClass:"top-bar js-top-bar d-flex"},[n("div",{staticClass:"row mx-n1"},[n("gl-form-group",{staticClass:"col-3 px-1",attrs:{id:"environments-dropdown-fg",label:t.s__("Environments|Environment"),"label-size":"sm","label-for":"environments-dropdown"}},[n("gl-dropdown",{staticClass:"d-flex gl-h-32 js-environments-dropdown",attrs:{id:"environments-dropdown",text:t.environments.current,disabled:t.environments.isLoading,"toggle-class":"dropdown-menu-toggle"}},t._l(t.environments.options,(function(e){return n("gl-dropdown-item",{key:e.id,on:{click:function(n){return t.showEnvironment(e.name)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),1)],1),t._v(" "),n("gl-form-group",{staticClass:"col-3 px-1",attrs:{id:"pods-dropdown-fg",label:t.s__("Environments|Logs from"),"label-size":"sm","label-for":"pods-dropdown"}},[n("gl-dropdown",{staticClass:"d-flex gl-h-32 js-pods-dropdown",attrs:{id:"pods-dropdown",text:t.pods.current||t.s__("Environments|No pods to display"),disabled:t.environments.isLoading,"toggle-class":"dropdown-menu-toggle"}},t._l(t.pods.options,(function(e){return n("gl-dropdown-item",{key:e,on:{click:function(n){return t.showPodLogs(e)}}},[t._v("\n            "+t._s(e)+"\n          ")])})),1)],1),t._v(" "),n("gl-form-group",{staticClass:"col-3 px-1",attrs:{id:"dates-fg",label:t.s__("Environments|Show last"),"label-size":"sm","label-for":"time-window-dropdown"}},[n("date-time-picker",{ref:"dateTimePicker",staticClass:"w-100 gl-h-32",attrs:{disabled:t.disableAdvancedControls,options:t.timeRanges},model:{value:t.timeRangeModel,callback:function(e){t.timeRangeModel=e},expression:"timeRangeModel"}})],1),t._v(" "),n("gl-form-group",{staticClass:"col-3 px-1",attrs:{id:"search-fg",label:t.s__("Environments|Search"),"label-size":"sm","label-for":"search"}},[n("gl-search-box-by-click",{staticClass:"js-logs-search",attrs:{disabled:t.disableAdvancedControls,placeholder:t.s__("Environments|Search"),type:"search",autofocus:""},on:{submit:function(e){return t.setSearch(t.searchQuery)}},model:{value:t.searchQuery,callback:function(e){t.searchQuery="string"==typeof e?e.trim():e},expression:"searchQuery"}})],1)],1),t._v(" "),n("log-control-buttons",{ref:"scrollButtons",staticClass:"controllers align-self-end mb-1",attrs:{"scroll-down-button-disabled":t.scrollDownButtonDisabled},on:{refresh:function(e){return t.showPodLogs(t.pods.current)},scrollDown:t.scrollDown}})],1),t._v(" "),n("gl-infinite-scroll",{ref:"infiniteScroll",staticClass:"log-lines",style:{height:t.$options.traceHeight+"px"},attrs:{"max-list-height":t.$options.traceHeight,"fetched-items":t.logs.lines.length},on:{topReached:t.topReached,scroll:t.scroll},scopedSlots:t._u([{key:"items",fn:function(){return[n("pre",{staticClass:"build-trace js-log-trace"},[n("code",{staticClass:"bash js-build-output"},[t.showLoader?n("div",{staticClass:"build-loader-animation js-build-loader-animation"},[t._v("\n        "),n("div",{staticClass:"dot"}),t._v("\n        "),n("div",{staticClass:"dot"}),t._v("\n        "),n("div",{staticClass:"dot"}),t._v("\n      ")]):t._e(),t._v(t._s(t.trace)+"\n        ")])])]},proxy:!0},{key:"default",fn:function(){return[n("div")]},proxy:!0}])}),t._v(" "),n("div",{ref:"logFooter",staticClass:"log-footer py-2 px-3"},[n("gl-sprintf",{attrs:{message:t.s__("Environments|Logs from %{start} to %{end}.")},scopedSlots:t._u([{key:"start",fn:function(){return[t._v(t._s(t._f("formatDate")(t.timeRange.current.start)))]},proxy:!0},{key:"end",fn:function(){return[t._v(t._s(t._f("formatDate")(t.timeRange.current.end)))]},proxy:!0}])}),t._v(" "),t.logs.isComplete?[t._v("\n      "+t._s(t.s__("Environments|Currently showing all results.")))]:n("gl-sprintf",{attrs:{message:t.s__("Environments|Currently showing %{fetched} results.")},scopedSlots:t._u([{key:"fetched",fn:function(){return[t._v(t._s(t.logs.lines.length))]},proxy:!0}],null,!1,980363739)})],2)],1)}),[],!1,null,null,null).exports,lt=(n(64),n(55),n(246),n(16)),ct=n(146),ut=n(11),dt=n(14),pt=n(1),ft=n(387),ht=function(){Object(dt.a)(Object(pt.d)("Metrics|There was an error fetching the logs, please try again"))},bt=function(t){var e={},n=t.environments.options.find((function(e){return e.name===t.environments.current})).logs_api_path;if(t.pods.current&&(e.pod_name=t.pods.current),t.search&&(e.search=t.search),t.timeRange.current)try{var r=Object(ft.a)(t.timeRange.current),i=r.start,o=r.end;e.start=i,e.end=o}catch(t){Object(dt.a)(Object(pt.d)("Metrics|Invalid time range, please verify."),"warning")}return t.logs.cursor&&(e.cursor=t.logs.cursor),function(t,e){return Object(lt.e)((function(n,r){ut.a.get(t,{params:e}).then((function(t){t.status!==ct.a.ACCEPTED?r(t):n()})).catch((function(t){r(t)}))}))}(n,e)},mt=function(t,e){var n=t.commit,r=e.timeRange,i=e.environmentName,o=e.podName;n("SET_TIME_RANGE",r),n("SET_PROJECT_ENVIRONMENT",i),n("SET_CURRENT_POD_NAME",o)},gt=function(t,e){var n=t.dispatch;(0,t.commit)("SET_CURRENT_POD_NAME",e),n("fetchLogs")},vt=function(t,e){var n=t.dispatch;(0,t.commit)("SET_SEARCH",e),n("fetchLogs")},yt=function(t,e){var n=t.dispatch;(0,t.commit)("SET_TIME_RANGE",e),n("fetchLogs")},_t=function(t,e){var n=t.dispatch,r=t.commit;r("SET_PROJECT_ENVIRONMENT",e),r("SET_CURRENT_POD_NAME",null),n("fetchLogs")},Ot=function(t,e){var n=t.commit,r=t.dispatch;return n("REQUEST_ENVIRONMENTS_DATA"),ut.a.get(e).then((function(t){var e=t.data;n("RECEIVE_ENVIRONMENTS_DATA_SUCCESS",e.environments),r("fetchLogs")})).catch((function(){n("RECEIVE_ENVIRONMENTS_DATA_ERROR"),Object(dt.a)(Object(pt.d)("Metrics|There was an error fetching the environments data, please try again"))}))},jt=function(t){var e=t.commit,n=t.state;return e("REQUEST_PODS_DATA"),e("REQUEST_LOGS_DATA"),bt(n).then((function(t){var n=t.data,r=n.pod_name,i=n.pods,o=n.logs,a=n.cursor;e("SET_CURRENT_POD_NAME",r),e("RECEIVE_PODS_DATA_SUCCESS",i),e("RECEIVE_LOGS_DATA_SUCCESS",{logs:o,cursor:a})})).catch((function(){e("RECEIVE_PODS_DATA_ERROR"),e("RECEIVE_LOGS_DATA_ERROR"),ht()}))},wt=function(t){var e=t.commit,n=t.state;return n.logs.isComplete?Promise.resolve():(e("REQUEST_LOGS_DATA_PREPEND"),bt(n).then((function(t){var n=t.data,r=n.logs,i=n.cursor;e("RECEIVE_LOGS_DATA_PREPEND_SUCCESS",{logs:r,cursor:i})})).catch((function(){e("RECEIVE_LOGS_DATA_PREPEND_ERROR"),ht()})))},St=function(){},Et=(n(65),n(46),function(t){var e=t.timestamp,n=void 0===e?null:e,r=t.message,i=void 0===r?"":r;return[n?et(n):"",i].join(" | ")}),Ct=function(t){return t.logs.lines.map(Et).join("\n")},Dt=function(){};n(30);function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kt=function(t){return{timestamp:t.timestamp,message:t.message}},It=(xt(ot={},"SET_SEARCH",(function(t,e){t.search=e})),xt(ot,"SET_TIME_RANGE",(function(t,e){t.timeRange.selected=e,t.timeRange.current=Object(ft.a)(e)})),xt(ot,"SET_PROJECT_ENVIRONMENT",(function(t,e){t.environments.current=e})),xt(ot,"REQUEST_ENVIRONMENTS_DATA",(function(t){t.environments.options=[],t.environments.isLoading=!0})),xt(ot,"RECEIVE_ENVIRONMENTS_DATA_SUCCESS",(function(t,e){t.environments.options=e,t.environments.isLoading=!1})),xt(ot,"RECEIVE_ENVIRONMENTS_DATA_ERROR",(function(t){t.environments.options=[],t.environments.isLoading=!1})),xt(ot,"REQUEST_LOGS_DATA",(function(t){t.timeRange.current=Object(ft.a)(t.timeRange.selected),t.logs.lines=[],t.logs.isLoading=!0,t.logs.cursor=null,t.logs.isComplete=!1})),xt(ot,"RECEIVE_LOGS_DATA_SUCCESS",(function(t,e){var n=e.logs,r=void 0===n?[]:n,i=e.cursor;t.logs.lines=r.map(kt),t.logs.isLoading=!1,t.logs.cursor=i,i||(t.logs.isComplete=!0)})),xt(ot,"RECEIVE_LOGS_DATA_ERROR",(function(t){t.logs.lines=[],t.logs.isLoading=!1})),xt(ot,"REQUEST_LOGS_DATA_PREPEND",(function(t){t.logs.isLoading=!0})),xt(ot,"RECEIVE_LOGS_DATA_PREPEND_SUCCESS",(function(t,e){var n=e.logs,r=void 0===n?[]:n,i=e.cursor,o=r.map(kt);t.logs.lines=o.concat(t.logs.lines),t.logs.isLoading=!1,t.logs.cursor=i,i||(t.logs.isComplete=!0)})),xt(ot,"RECEIVE_LOGS_DATA_PREPEND_ERROR",(function(t){t.logs.isLoading=!1})),xt(ot,"SET_CURRENT_POD_NAME",(function(t,e){t.pods.current=e})),xt(ot,"REQUEST_PODS_DATA",(function(t){t.pods.options=[]})),xt(ot,"RECEIVE_PODS_DATA_SUCCESS",(function(t,e){t.pods.options=e})),xt(ot,"RECEIVE_PODS_DATA_ERROR",(function(t){t.pods.options=[]})),ot);o.default.use(c.b);var Tt=function(){return new c.b.Store({modules:{environmentLogs:{namespaced:!0,actions:r,mutations:It,state:{search:"",timeRange:{options:Z.b,selected:Z.a,current:Object(ft.a)(Z.a)},environments:{options:[],isLoading:!1,current:null},logs:{lines:[],isLoading:!1,cursor:null,isComplete:!1},pods:{options:[],current:null}},getters:i}}})};function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function At(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}document.addEventListener("DOMContentLoaded",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=document.getElementById("environment-logs"),n=Object(a.e)("pod_name"),r=At(n,1),i=r[0];new o.default({el:e,store:Tt,render:function(n){return n(st,{props:Rt({},e.dataset,{currentPodName:i},t)})}})}))},282:function(t,e,n){"use strict";var r=n(37);e.a=function(t){return Object(r.i)(t)||(t=String(t)),(t=t.trim()).charAt(0).toUpperCase()+t.slice(1)}},289:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(63),i=n(163),o=n(166),a=n(167),s=n(150),l=n(205),c=n(206),u=n(207),d=n(100),p=n(44);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],g=r.a.extend({name:"BFormInput",mixins:[i.a,o.a,a.a,s.a,l.a,c.a,u.a],props:{type:{type:String,default:"text",validator:function(t){return Object(d.a)(m,t)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:{type:[String,Number],default:null},list:{type:String,default:null}},computed:{localType:function(){return Object(d.a)(m,this.type)?this.type:"text"}},watch:{noWheel:function(t){this.setWheelStopper(t)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(t){var e=this.$el;t?(Object(p.f)(e,"focus",this.onWheelFocus),Object(p.f)(e,"blur",this.onWheelBlur)):(Object(p.e)(e,"focus",this.onWheelFocus),Object(p.e)(e,"blur",this.onWheelBlur),Object(p.e)(document,"wheel",this.stopWheel))},onWheelFocus:function(t){Object(p.f)(document,"wheel",this.stopWheel)},onWheelBlur:function(t){Object(p.e)(document,"wheel",this.stopWheel)},stopWheel:function(t){t.preventDefault(),this.$el.blur()}},render:function(t){return t("input",{ref:"input",class:this.computedClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,type:this.localType,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:this.min,max:this.max,step:this.step,list:"password"!==this.localType?this.list:null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},domProps:{value:this.localValue},on:h({},this.$listeners,{input:this.onInput,change:this.onChange,blur:this.onBlur})})}})},312:function(t,e,n){var r=n(651),i=0;t.exports=function(t){var e=++i;return r(t)+e}},325:function(t,e,n){"use strict";var r=n(256),i=n.n(r),o={directives:{tooltip:n(99).a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:function(){return{showTooltip:!1}},watch:{title:function(){this.$nextTick(this.updateTooltip)}},mounted:function(){this.updateTooltip()},methods:{selectTarget:function(){return i()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip:function(){var t=this.selectTarget();this.showTooltip=Boolean(t&&t.scrollWidth>t.offsetWidth)}}},a=n(4),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return this.showTooltip?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-show-tooltip",attrs:{title:this.title,"data-placement":this.placement}},[this._t("default")],2):e("span",[this._t("default")],2)}),[],!1,null,null,null);e.a=s.exports},327:function(t,e,n){"use strict";var r=n(103),i=n(153),o=n(25),a=n(60),s=n.n(a);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){l(t,e,n[e])}))}return t}const u={components:{GlIcon:r.a,GlNewButton:i.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:o.c.info,validator:function(t){return Object.keys(o.c).includes(t)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""}},computed:{iconName:function(){return o.b[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:o.a[this.variant].primary,category:o.q.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:o.a[this.variant].secondary,category:o.q.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(t,e){if(!e.text)return t;var n=c({},e.attrs);return n.href||delete n.href,t.push(c({},e,{attrs:n})),t}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(t){this.$emit("primaryAction",t)},secondaryButtonClicked:function(t){this.$emit("secondaryAction",t)},onDismiss:function(){this.$emit("dismiss")}}};const d=s()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["gl-alert",t.variantClass],attrs:{role:"alert"}},[n("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!t.title},attrs:{name:t.iconName}}),t._v(" "),t.dismissible?n("button",{ref:"dismiss",staticClass:"gl-alert-dismiss",attrs:{type:"button","aria-label":t.dismissLabel},on:{click:t.onDismiss}},[n("gl-icon",{attrs:{name:"close"}})],1):t._e(),t._v(" "),t.title?n("h4",{staticClass:"gl-alert-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"gl-alert-body"},[t._t("default")],2),t._v(" "),t.shouldRenderActions?n("div",{staticClass:"gl-alert-actions"},[t._t("actions",t._l(t.actionButtons,(function(e,r){return n("gl-new-button",t._g(t._b({key:r,staticClass:"gl-alert-action"},"gl-new-button",e.attrs,!1),e.listeners),[t._v("\n        "+t._s(e.text)+"\n      ")])})))],2):t._e()],1)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=d},384:function(t,e,n){"use strict";var r=n(289),i=n(60),o=n.n(i);const a={components:{BFormInput:r.a},inheritAttrs:!1};const s=o()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-form-input",this._g(this._b({staticClass:"gl-form-input"},"b-form-input",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=s},389:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(63),i=n(102);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={tag:{type:String,default:"hr"}},c=r.a.extend({name:"BDropdownDivider",functional:!0,props:l,render:function(t,e){var n=e.props,r=e.data,o=r.attrs||{};return r.attrs={},t("li",Object(i.a)(r,{attrs:{role:"presentation"}}),[t(n.tag,{staticClass:"dropdown-divider",attrs:a({},o,{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}})},491:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var r=n(63),i=n(102),o=n(544);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}},c=r.a.extend({name:"BInputGroupAddon",functional:!0,props:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},l,{append:{type:Boolean,default:!1}}),render:function(t,e){var n=e.props,r=e.data,a=e.children;return t(n.tag,Object(i.a)(r,{class:{"input-group-append":n.append,"input-group-prepend":!n.append},attrs:{id:n.id}}),n.isText?[t(o.a,a)]:a)}})},544:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(63),i=n(102),o={tag:{type:String,default:"div"}},a=r.a.extend({name:"BInputGroupText",functional:!0,props:o,render:function(t,e){var n=e.props,r=e.data,o=e.children;return t(n.tag,Object(i.a)(r,{staticClass:"input-group-text"}),o)}})},70:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(24),n(49),n(56),n(40),n(90),n(18),n(36),n(41);var r=n(8),i=n.n(r),o=n(9);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=s(this,l(e).call(this)),i.a.bind("g p",(function(){return Object(o.a)(".shortcuts-project")})),i.a.bind("g v",(function(){return Object(o.a)(".shortcuts-project-activity")})),i.a.bind("g r",(function(){return Object(o.a)(".shortcuts-project-releases")})),i.a.bind("g f",(function(){return Object(o.a)(".shortcuts-tree")})),i.a.bind("g c",(function(){return Object(o.a)(".shortcuts-commits")})),i.a.bind("g j",(function(){return Object(o.a)(".shortcuts-builds")})),i.a.bind("g n",(function(){return Object(o.a)(".shortcuts-network")})),i.a.bind("g d",(function(){return Object(o.a)(".shortcuts-repository-charts")})),i.a.bind("g i",(function(){return Object(o.a)(".shortcuts-issues")})),i.a.bind("g b",(function(){return Object(o.a)(".shortcuts-issue-boards")})),i.a.bind("g m",(function(){return Object(o.a)(".shortcuts-merge_requests")})),i.a.bind("g w",(function(){return Object(o.a)(".shortcuts-wiki")})),i.a.bind("g s",(function(){return Object(o.a)(".shortcuts-snippets")})),i.a.bind("g k",(function(){return Object(o.a)(".shortcuts-kubernetes")})),i.a.bind("g e",(function(){return Object(o.a)(".shortcuts-environments")})),i.a.bind("g l",(function(){return Object(o.a)(".shortcuts-metrics")})),i.a.bind("i",(function(){return Object(o.a)(".shortcuts-new-issue")})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),e}(n(107).a)},73:function(t,e,n){"use strict";n(30),n(35),n(18),n(64);var r=n(0),i=n.n(r),o=n(32),a=(n(65),n(69),n(55),n(67),n(71));function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projectSelectInput=i()(e),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var e,r,o;return e=t,(r=[{key:"bindEvents",value:function(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(e){return t.openDropdown(e)})),this.newItemBtn.on("click",(function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))})),this.projectSelectInput.on("change",(function(){return t.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(t){n.e(239).then(n.t.bind(null,428,7)).then((function(){i()(t.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}},{key:"setBtnTextFromLocalStorage",value:function(){var t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}},{key:"setNewItemBtnAttributes",value:function(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}},{key:"setProjectInLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}},{key:"deriveTextVariants",value:function(){var t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(e.prototype,r),o&&s(e,o),t}(),c=n(1),u=function(){i()(".ajax-project-select").each((function(t,e){var n,r=this,a=i()(e).data("simpleFilter")||!1,s=i()(e).data("select2");return this.groupId=i()(e).data("groupId"),this.userId=i()(e).data("userId"),this.includeGroups=i()(e).data("includeGroups"),this.allProjects=i()(e).data("allProjects")||!1,this.orderBy=i()(e).data("orderBy")||"id",this.withIssuesEnabled=i()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(e).data("withShared")||i()(e).data("withShared"),this.includeProjectsInSubgroups=i()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(e).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),i()(e).select2({placeholder:n,minimumInputLength:0,query:function(t){var e,n=function(e){var n={results:e};return t.callback(n)};return e=r.includeGroups?function(e){return o.a.groups(t.term,{},(function(t){var r=t.concat(e);return n(r)}))}:n,r.groupId?o.a.groupProjects(r.groupId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},e):r.userId?o.a.userProjects(r.userId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},e):o.a.projects(t.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},e)},id:function(t){return a?t.id:JSON.stringify({name:t.name,url:t.web_url})},text:function(t){return t.name_with_namespace||t.name},initSelection:function(t,e){return o.a.project(t.val()).then((function(t){var n=t.data;return e(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||a?e:new l(e)}))};e.a=function(){return n.e(239).then(n.t.bind(null,428,7)).then(u).catch((function(){}))}},795:function(t,e,n){"use strict";var r=n(313),i=n(282),o=n(100),a=n(79),s=n(44),l=n(272),c=n(37),u=n(84),d=n(150),p=n(163),f=n(142),h=n(102),b=function(t,e){return e+(t?Object(i.a)(t):"")};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(){return{type:[String,Number],default:null}},y=Object(r.a)((function(t,e,n){var r=t;if(!Object(c.j)(n)&&!Object(c.e)(n)&&!1!==n)return e&&(r+="-".concat(e)),"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()})),_=Object(u.c)(null),O=function(){var t=Object(a.a)().filter(Boolean),e=t.reduce((function(t,e){return e&&(t[e]={type:[Boolean,String,Number],default:!1}),t}),Object(u.c)(null)),n=t.reduce((function(t,e){return t[b(e,"offset")]=v(),t}),Object(u.c)(null)),r=t.reduce((function(t,e){return t[b(e,"order")]=v(),t}),Object(u.c)(null));return _=Object(u.a)(Object(u.c)(null),{col:Object(u.i)(e),offset:Object(u.i)(n),order:Object(u.i)(r)}),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({col:{type:Boolean,default:!1},cols:v()},e,{offset:v()},n,{order:v()},r,{alignSelf:{type:String,default:null,validator:function(t){return Object(o.a)(["auto","start","end","center","baseline","stretch"],t)}},tag:{type:String,default:"div"}})},j={name:"BCol",functional:!0,get props(){return delete this.props,this.props=O()},render:function(t,e){var n,r=e.props,i=e.data,o=e.children,a=[];for(var s in _)for(var l=_[s],c=0;c<l.length;c++){var u=y(s,l[c].replace(s,""),r[l[c]]);u&&a.push(u)}var d=a.some((function(t){return/^col-/.test(t)}));return a.push((g(n={col:r.col||!d&&!r.cols},"col-".concat(r.cols),r.cols),g(n,"offset-".concat(r.offset),r.offset),g(n,"order-".concat(r.order),r.order),g(n,"align-self-".concat(r.alignSelf),r.alignSelf),n)),t(r.tag,Object(h.a)(i,{class:a}),o)}},w=n(63),S={tag:{type:String,default:"div"}},E=w.a.extend({name:"BFormRow",functional:!0,props:S,render:function(t,e){var n=e.props,r=e.data,i=e.children;return t(n.tag,Object(h.a)(r,{staticClass:"form-row"}),i)}});var C={id:{type:String,default:null},tag:{type:String,default:"small"},textVariant:{type:String,default:function(){return Object(a.b)("BFormText","textVariant")}},inline:{type:Boolean,default:!1}},D=w.a.extend({name:"BFormText",functional:!0,props:C,render:function(t,e){var n,r,i,o=e.props,a=e.data,s=e.children;return t(o.tag,Object(h.a)(a,{class:(n={"form-text":!o.inline},r="text-".concat(o.textVariant),i=Boolean(o.textVariant),r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),attrs:{id:o.id}}),s)}}),x={id:{type:String,default:null},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:Boolean,default:null},ariaLive:{type:String,default:null},role:{type:String,default:null}},k=w.a.extend({name:"BFormInvalidFeedback",functional:!0,props:x,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=!0===n.forceShow||!1===n.state;return t(n.tag,Object(h.a)(r,{class:{"invalid-feedback":!n.tooltip,"invalid-tooltip":n.tooltip,"d-block":o},attrs:{id:n.id,role:n.role,"aria-live":n.ariaLive,"aria-atomic":n.ariaLive?"true":null}}),i)}}),I={id:{type:String,default:null},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:Boolean,default:null},ariaLive:{type:String,default:null},role:{type:String,default:null}},T=w.a.extend({name:"BFormValidFeedback",functional:!0,props:I,render:function(t,e){var n=e.props,r=e.data,i=e.children,o=!0===n.forceShow||!0===n.state;return t(n.tag,Object(h.a)(r,{class:{"valid-feedback":!n.tooltip,"valid-tooltip":n.tooltip,"d-block":o},attrs:{id:n.id,role:n.role,"aria-live":n.ariaLive,"aria-atomic":n.ariaLive?"true":null}}),i)}});function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(t,e){var n=e.normalizeSlot("invalid-feedback")||e.invalidFeedback,r=t();return n&&(r=t(k,{props:{id:e.invalidFeedbackId,state:e.computedState,tooltip:e.tooltip,ariaLive:e.feedbackAriaLive,role:e.feedbackAriaLive?"alert":null},attrs:{tabindex:n?"-1":null}},[n])),r},$=function(t,e){var n=e.normalizeSlot("valid-feedback")||e.validFeedback,r=t();return n&&(r=t(T,{props:{id:e.validFeedbackId,state:e.computedState,tooltip:e.tooltip,ariaLive:e.feedbackAriaLive,role:e.feedbackAriaLive?"alert":null},attrs:{tabindex:n?"-1":null}},[n])),r},N=function(t,e){var n=e.normalizeSlot("description")||e.description,r=t();return n&&(r=t(D,{attrs:{id:e.descriptionId,tabindex:n?"-1":null}},[n])),r},V=Object(r.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return"".concat(e).concat(Object(i.a)(t))})),L={name:"BFormGroup",mixins:[p.a,d.a,f.a],get props(){return delete this.props,this.props=(t=Object(a.a)(),e=t.reduce((function(t,e){return t[V(e,"labelCols")]={type:[Number,String,Boolean],default:!e&&null},t}),Object(u.c)(null)),n=t.reduce((function(t,e){return t[V(e,"labelAlign")]={type:String,default:null},t}),Object(u.c)(null)),R({label:{type:String,default:null},labelFor:{type:String,default:null},labelSize:{type:String,default:null},labelSrOnly:{type:Boolean,default:!1}},e,{},n,{labelClass:{type:[String,Array,Object],default:null},description:{type:String,default:null},invalidFeedback:{type:String,default:null},validFeedback:{type:String,default:null},tooltip:{type:Boolean,default:!1},feedbackAriaLive:{type:String,default:"assertive"},validated:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}));var t,e,n},computed:{labelColProps:function(){var t=this,e={};return Object(a.a)().forEach((function(n){var r=t[V(n,"labelCols")];if(r=""===r||(r||!1),Object(c.a)(r)||"auto"===r||(r=(r=parseInt(r,10)||0)>0&&r),r){var i=n||(Object(c.a)(r)?"col":"cols");e[i]=r}})),e},labelAlignClasses:function(){var t=this,e=[];return Object(a.a)().forEach((function(n){var r=t[V(n,"labelAlign")]||null;if(r){var i=n?"text-".concat(n,"-").concat(r):"text-".concat(r);e.push(i)}})),e},isHorizontal:function(){return Object(u.i)(this.labelColProps).length>0},labelId:function(){return this.hasNormalizedSlot("label")||this.label?this.safeId("_BV_label_"):null},descriptionId:function(){return this.hasNormalizedSlot("description")||this.description?this.safeId("_BV_description_"):null},hasInvalidFeedback:function(){return!1===this.computedState&&(this.hasNormalizedSlot("invalid-feedback")||this.invalidFeedback)},invalidFeedbackId:function(){return this.hasInvalidFeedback?this.safeId("_BV_feedback_invalid_"):null},hasValidFeedback:function(){return!0===this.computedState&&(this.hasNormalizedSlot("valid-feedback")||this.validFeedback)},validFeedbackId:function(){return this.hasValidFeedback?this.safeId("_BV_feedback_valid_"):null},describedByIds:function(){return[this.descriptionId,this.invalidFeedbackId,this.validFeedbackId].filter(Boolean).join(" ")||null}},watch:{describedByIds:function(t,e){t!==e&&this.setInputDescribedBy(t,e)}},mounted:function(){var t=this;this.$nextTick((function(){t.setInputDescribedBy(t.describedByIds)}))},methods:{legendClick:function(t){if(!this.labelFor){var e=t.target?t.target.tagName:"";if(!/^(input|select|textarea|label|button|a)$/i.test(e)){var n=Object(s.v)("input:not([disabled]),textarea:not([disabled]),select:not([disabled])",this.$refs.content).filter(s.p);n&&1===n.length&&n[0].focus&&n[0].focus()}}},setInputDescribedBy:function(t,e){if(this.labelFor&&l.h){var n=Object(s.u)("#".concat(this.labelFor),this.$refs.content);if(n){var r="aria-describedby",i=(Object(s.g)(n,r)||"").split(/\s+/);t=(t||"").split(/\s+/),e=(e||"").split(/\s+/),i=i.filter((function(t){return!Object(o.a)(e,t)})).concat(t).filter(Boolean),(i=Object(u.i)(i.reduce((function(t,e){return R({},t,B({},e,!0))}),{})).join(" ").trim())?Object(s.w)(n,r,i):Object(s.r)(n,r)}}}},render:function(t){var e=!this.labelFor,n=this.isHorizontal,r=function(t,e){var n=e.normalizeSlot("label")||e.label,r=e.labelFor,i=!r,o=e.isHorizontal,a=i?"legend":"label";if(n||o){if(e.labelSrOnly){var s=t();return n&&(s=t(a,{class:"sr-only",attrs:{id:e.labelId,for:r||null}},[n])),t(o?j:"div",{props:o?e.labelColProps:{}},[s])}return t(o?j:a,{on:i?{click:e.legendClick}:{},props:o?R({tag:a},e.labelColProps):{},attrs:{id:e.labelId,for:r||null,tabindex:i?"-1":null},class:[o||i?"col-form-label":"",!o&&i?"pt-0":"",o||i?"":"d-block",e.labelSize?"col-form-label-".concat(e.labelSize):"",e.labelAlignClasses,e.labelClass]},[n])}return t()}(t,this),i=t(n?j:"div",{ref:"content",attrs:{tabindex:e?"-1":null,role:e?"group":null}},[this.normalizeSlot("default")||t(),A(t,this),$(t,this),N(t,this)]),o={staticClass:"form-group",class:[this.validated?"was-validated":null,this.stateClass],attrs:{id:this.safeId(),disabled:e?this.disabled:null,role:e?null:"group","aria-invalid":!1===this.computedState?"true":null,"aria-labelledby":e&&n?this.labelId:null,"aria-describedby":e?this.describedByIds:null}};return t(e?"fieldset":n?E:"div",o,n&&e?[t(E,{},[r,i])]:[r,i])}},q=n(60);const F={components:{BFormGroup:L},inheritAttrs:!1};const G=n.n(q)()({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("b-form-group",t._b({staticClass:"gl-form-group",attrs:{"label-class":"col-form-label"}},"b-form-group",t.$attrs,!1),[t._l(Object.keys(t.$slots),(function(e){return t._t(e,null,{slot:e})}))],2)},staticRenderFns:[]},void 0,F,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=G},809:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(63),i=n(102),o=n(491);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=r.a.extend({name:"BInputGroupPrepend",functional:!0,props:o.b,render:function(t,e){var n=e.props,r=e.data,a=e.children;return t(o.a,Object(i.a)(r,{props:s({},n,{append:!1})}),a)}})},810:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(63),i=n(102),o=n(491);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=r.a.extend({name:"BInputGroupAppend",functional:!0,props:o.b,render:function(t,e){var n=e.props,r=e.data,a=e.children;return t(o.a,Object(i.a)(r,{props:s({},n,{append:!0})}),a)}})},88:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(42),n(89);var r=n(0),i=n.n(r),o=n(51),a=n.n(o),s=n(1),l=n(33);n(28),n(78),n(40),n(46),n(129),n(35),n(77),n(18),n(36),n(41);var c=function(t){return t.reduce((function(t,e){var n=e.name,r=e.value;return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,r))}),{})},u=n(11),d=n(14),p=n(73);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=i()("ul.clone-options-dropdown"),n=i()("#project_clone"),r=i()(".js-git-clone-holder .js-clone-dropdown-label"),o=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=r.text().trim();s.length>0&&i()("a:contains('".concat(s,"')"),e).addClass("is-active"),i()("a",e).on("click",(function(t){t.preventDefault();var r=i()(t.currentTarget),a=r.attr("href"),s=r.data("cloneType");i()(".is-active",e).removeClass("is-active"),i()('a[data-clone-type="'.concat(s,'"]')).each((function(){var t=i()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".project-clone-holder").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)})),o?o.dataset.clipboardText=a:n.val(a),i()(".js-git-empty .js-clone").text(a)})),t.initRefSwitcher(),i()(".project-refs-select").on("change",(function(){return i()(this).parents("form").submit()})),i()(".hide-no-ssh-message").on("click",(function(t){return a.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()})),i()(".hide-no-password-message").on("click",(function(t){return a.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),t.preventDefault()})),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(t){var e=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return a.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()})),t.projectSelectDropdown()}var e,n,r;return e=t,r=[{key:"projectSelectDropdown",value:function(){Object(p.a)(),i()(".project-item-select").on("click",(function(e){return t.changeProject(i()(e.currentTarget).val())}))}},{key:"changeProject",value:function(t){return window.location=t}},{key:"initRefSwitcher",value:function(){var t=document.createElement("li"),e=document.createElement("a");return e.href="#",i()(".js-project-refs-dropdown").each((function(){var n,r,o,a=i()(this),p=a.data("selected"),f=a.data("fieldName"),h=Boolean(a.data("visit")),b=a.closest("form"),m=b.attr("action"),g=Object(l.h)((n=b[0],r=new FormData(n),o=Array.from(r.keys()).map((function(t){var e=r.getAll(t);return{name:t,value:1===(e=e.filter((function(t){return t}))).length?e[0]:e}})),c(o)),m);return a.glDropdown({data:function(t,e){u.a.get(a.data("refsUrl"),{params:{ref:a.data("ref"),search:t}}).then((function(t){var n=t.data;return e(n)})).catch((function(){return Object(d.a)(Object(s.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:a.data("inputFieldName"),fieldName:f,renderRow:function(n){var r,i,o,a=t.cloneNode(!1),s=e.cloneNode(!1);return n===p&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&h&&(s.href=Object(l.h)((o=n,(i=f)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),g)),a.appendChild(s),a},id:function(t,e){return e.attr("data-ref")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(t){var e=t.e;h||e.preventDefault()}})}))}}],(n=null)&&f(e.prototype,n),r&&f(e,r),t}()},99:function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(358);e.a={bind:function(t){var e=localStorage.getItem("gl-tooltip-delay"),n=e?JSON.parse(e):0;i()(t).tooltip({trigger:"hover",delay:n})},componentUpdated:function(t){i()(t).tooltip("_fixTitle");var e=i()(t).data("bs.tooltip"),n=e.getTipElement();e.setElementContent(i()(n.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){i()(t).tooltip("dispose")}}}},[[2353,1,0,2]]]);
//# sourceMappingURL=pages.projects.logs.d71cd59b.chunk.js.map