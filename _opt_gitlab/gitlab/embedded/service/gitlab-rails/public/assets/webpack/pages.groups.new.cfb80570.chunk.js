(this.webpackJsonp=this.webpackJsonp||[]).push([[99],{1121:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n.n(i),a=n(110),o=n(992),s=n(14),u=n(1);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.groupPath=r()("#group_path"),this.groupName=r()("#group_name"),this.parentId=r()("#group_parent_id"),this.updateHandler=this.update.bind(this),this.resetHandler=this.reset.bind(this),this.updateGroupPathSlugHandler=this.updateGroupPathSlug.bind(this),""===this.groupName.val()&&(this.groupName.on("keyup",this.updateHandler),this.groupPath.on("keydown",this.resetHandler),this.parentId.val()||this.groupName.on("blur",this.updateGroupPathSlugHandler))}var e,n,i;return e=t,(n=[{key:"update",value:function(){var t=Object(a.j)(this.groupName.val());this.groupPath.val(t)}},{key:"reset",value:function(){this.groupName.off("keyup",this.updateHandler),this.groupPath.off("keydown",this.resetHandler),this.groupName.off("blur",this.checkPathHandler)}},{key:"updateGroupPathSlug",value:function(){var t=this,e=this.groupPath.val()||Object(a.j)(this.groupName.val());e&&Object(o.a)(e).then((function(t){return t.data})).then((function(e){if(e.exists&&e.suggests.length>0){var n=e.suggests[0];t.groupPath.val(n)}})).catch((function(){return Object(s.a)(Object(u.a)("An error occurred while checking group path"))}))}}])&&l(e.prototype,n),i&&l(e,i),t}()},2209:function(t,e,n){n(105),n(286),t.exports=n(2505)},2505:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(1120),o=n(1121),s=n(654),u=(n(24),n(49),n(56),n(26),n(40),n(65),n(90),n(18),n(36),n(27),n(41),n(237)),l=n.n(u),c=n(551),p=n(992),h=n(14),f=n(1);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=1e3,k=function(t){function e(){var t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=v(e).call(this),t=!i||"object"!==d(i)&&"function"!=typeof i?y(n):i;var a=r.container||"",o=document.querySelectorAll("".concat(a," .js-validate-group-path"));return t.debounceValidateInput=l()((function(t){e.validateGroupPathInput(t)}),m),o.forEach((function(e){return e.addEventListener("input",t.eventHandler.bind(y(t)))})),t}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,r=[{key:"validateGroupPathInput",value:function(t){var n=t.value;t.checkValidity()&&n.length>0&&(e.setMessageVisibility(t,".validation-pending"),Object(p.a)(n).then((function(t){return t.data})).then((function(n){e.setInputState(t,!n.exists),e.setMessageVisibility(t,".validation-pending",!1),e.setMessageVisibility(t,n.exists?".validation-error":".validation-success"),n.exists&&e.showSuggestions(t,n.suggests)})).catch((function(){return Object(h.a)(Object(f.a)("An error occurred while validating group path"))})))}},{key:"showSuggestions",value:function(t,e){var n=t.parentElement.parentElement.querySelector(".gl-path-suggestions"),i=e&&e.length>0?e.join(", "):"none";n.textContent=i}},{key:"setMessageVisibility",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.parentElement.parentElement.querySelector(e);i.classList.toggle("hide",!n)}},{key:"setInputState",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.classList.toggle("gl-field-success-outline",e),t.classList.toggle("gl-field-error-outline",!e)}},{key:"resetInputState",value:function(t){e.setMessageVisibility(t,".validation-success",!1),e.setMessageVisibility(t,".validation-error",!1),t.checkValidity()&&t.classList.remove("gl-field-success-outline","gl-field-error-outline")}}],(i=[{key:"eventHandler",value:function(t){var n=t.target;e.resetInputState(n),this.debounceValidateInput(n)}}])&&g(n.prototype,i),r&&g(n,r),e}(c.a);document.addEventListener("DOMContentLoaded",(function(){r()("#group_parent_id").val()||new k,a.a.initAll(),new o.a,Object(s.a)()}))},286:function(t,e,n){"use strict";n.r(e);var i=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(i.a)(document,gon)}))},551:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.inputDomElement={},this.inputErrorMessage={},this.errorMessage=null,this.invalidInput=null}var e,n,r;return e=t,(n=[{key:"setValidationStateAndMessage",value:function(){this.setValidationMessage();var t=!this.inputDomElement.checkValidity();this.inputDomElement.classList.toggle("gl-field-error-outline",t),this.inputErrorMessage.classList.toggle("hide",!t)}},{key:"setValidationMessage",value:function(){this.invalidInput?(this.inputDomElement.setCustomValidity(this.errorMessage),this.inputErrorMessage.innerHTML=this.errorMessage):this.resetValidationMessage()}},{key:"resetValidationMessage",value:function(){this.inputDomElement.validationMessage===this.errorMessage&&(this.inputDomElement.setCustomValidity(""),this.inputErrorMessage.innerHTML=this.inputDomElement.title)}}])&&i(e.prototype,n),r&&i(e,r),t}()},654:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(42),n(55),n(91);var i=n(0),r=n.n(i);function a(){r()(".js-choose-avatar-button").on("click",(function(){return r()(this).closest("form").find(".js-avatar-input").click()})),r()(".js-avatar-input").on("change",(function(){var t=r()(this).closest("form"),e=r()(this).val().replace(/^.*[\\\/]/,"");return t.find(".js-avatar-filename").text(e)}))}},992:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(30);var i=n(11),r=gon.relative_url_root;function a(t){return i.a.get("".concat(r,"/users/").concat(t,"/suggests"))}}},[[2209,1,0,2]]]);
//# sourceMappingURL=pages.groups.new.cfb80570.chunk.js.map