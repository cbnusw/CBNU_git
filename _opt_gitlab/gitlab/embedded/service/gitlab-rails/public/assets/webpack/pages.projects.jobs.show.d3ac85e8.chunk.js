(this.webpackJsonp=this.webpackJsonp||[]).push([[165],{112:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=1024,r="hidden"},158:function(e,t,n){"use strict";var i=n(828),r=n(553),s=n(103),a={name:"ClipboardButton",directives:{GlTooltip:i.a},components:{GlButton:r.a,GlIcon:s.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},o=n(4),l=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[t("gl-icon",{attrs:{name:"copy-to-clipboard"}})],1)}),[],!1,null,null,null);t.a=l.exports},198:function(e,t,n){"use strict";var i=n(828),r=n(189),s=(n(62),{directives:{GlTooltip:i.a},mixins:[r.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),a=n(4),o=Object(a.a)(s,(function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormatted(this.time))}})}),[],!1,null,null,null);t.a=o.exports},2345:function(e,t,n){n(105),n(113),e.exports=n(2456)},2456:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"init",(function(){return Ge})),n.d(i,"setJobEndpoint",(function(){return ze})),n.d(i,"setTraceOptions",(function(){return He})),n.d(i,"hideSidebar",(function(){return $e})),n.d(i,"showSidebar",(function(){return We})),n.d(i,"toggleSidebar",(function(){return Ke})),n.d(i,"clearEtagPoll",(function(){return Ye})),n.d(i,"stopPolling",(function(){return Qe})),n.d(i,"restartPolling",(function(){return Xe})),n.d(i,"requestJob",(function(){return Ze})),n.d(i,"fetchJob",(function(){return et})),n.d(i,"receiveJobSuccess",(function(){return tt})),n.d(i,"receiveJobError",(function(){return nt})),n.d(i,"scrollTop",(function(){return it})),n.d(i,"scrollBottom",(function(){return rt})),n.d(i,"toggleScrollButtons",(function(){return st})),n.d(i,"disableScrollBottom",(function(){return at})),n.d(i,"disableScrollTop",(function(){return ot})),n.d(i,"enableScrollBottom",(function(){return lt})),n.d(i,"enableScrollTop",(function(){return ct})),n.d(i,"toggleScrollAnimation",(function(){return ut})),n.d(i,"toggleScrollisInBottom",(function(){return dt})),n.d(i,"requestTrace",(function(){return pt})),n.d(i,"fetchTrace",(function(){return bt})),n.d(i,"startPollingTrace",(function(){return ht})),n.d(i,"stopPollingTrace",(function(){return mt})),n.d(i,"receiveTraceSuccess",(function(){return ft})),n.d(i,"receiveTraceError",(function(){return gt})),n.d(i,"toggleCollapsibleLine",(function(){return vt})),n.d(i,"requestJobsForStage",(function(){return _t})),n.d(i,"fetchJobsForStage",(function(){return jt})),n.d(i,"receiveJobsForStageSuccess",(function(){return yt})),n.d(i,"receiveJobsForStageError",(function(){return St})),n.d(i,"triggerManualJob",(function(){return Ot})),n.d(i,"default",(function(){return kt}));var r={};n.r(r),n.d(r,"headerTime",(function(){return Tt})),n.d(r,"hasUnmetPrerequisitesFailure",(function(){return Lt})),n.d(r,"shouldRenderCalloutMessage",(function(){return Et})),n.d(r,"shouldRenderTriggeredLabel",(function(){return Pt})),n.d(r,"hasEnvironment",(function(){return Bt})),n.d(r,"hasTrace",(function(){return xt})),n.d(r,"emptyStateIllustration",(function(){return Rt})),n.d(r,"emptyStateAction",(function(){return qt})),n.d(r,"shouldRenderSharedRunnerLimitWarning",(function(){return It})),n.d(r,"isScrollingDown",(function(){return Nt})),n.d(r,"hasRunnersForProject",(function(){return Jt})),n.d(r,"default",(function(){return At}));var s=n(17),a=(n(24),n(28),n(42),n(26),n(35),n(50),n(58),n(38),n(18),n(64),n(27),n(254)),o=n.n(a),l=n(527),c=n.n(l),u=n(22),d=n(760),p=n(222),b=n(0),h=n.n(b),m=function(){var e=h()(document),t=e.scrollTop();return e.height()-t===h()(window).height()},f=n(378),g=n(661),v=(n(104),["danger","success","info","warning"]),_={props:{category:{type:String,required:!1,default:v[0],validator:function(e){return v.includes(e)}},message:{type:String,required:!1,default:""}}},j=n(4),y=Object(j.a)(_,(function(){var e=this.$createElement;return(this._self._c||e)("div",{class:"bs-callout bs-callout-"+this.category,attrs:{role:"alert","aria-live":"assertive"}},[this._v("\n  "+this._s(this.message)+" "),this._t("default")],2)}),[],!1,null,null,null).exports,S=n(45),O=n(301),k=(n(30),n(374),n(145),n(312)),C=n.n(k),w=n(553),T=n(1);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={name:"ManualVariablesForm",components:{GlButton:w.a,Icon:S.a},props:{action:{type:Object,required:!1,default:null,validator:function(e){return null===e||Object.prototype.hasOwnProperty.call(e,"path")&&Object.prototype.hasOwnProperty.call(e,"method")&&Object.prototype.hasOwnProperty.call(e,"button_title")}},variablesSettingsUrl:{type:String,required:!0,default:""}},inputTypes:{key:"key",value:"value"},i18n:{keyPlaceholder:Object(T.d)("CiVariables|Input variable key"),valuePlaceholder:Object(T.d)("CiVariables|Input variable value")},data:function(){return{variables:[],key:"",secretValue:""}},computed:{helpText:function(){return Object(T.e)(Object(T.d)("CiVariables|Specify variable values to be used in this run. The values specified in %{linkStart}CI/CD settings%{linkEnd} will be used as default"),{linkStart:'<a href="'.concat(this.variablesSettingsUrl,'">'),linkEnd:"</a>"},!1)}},watch:{key:function(e){this.handleValueChange(e,this.$options.inputTypes.key)},secretValue:function(e){this.handleValueChange(e,this.$options.inputTypes.value)}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(u.c)(["triggerManualJob"]),{handleValueChange:function(e,t){""!==e&&(this.createNewVariable(t),this.resetForm())},createNewVariable:function(e){var t=this,n={key:this.key,secret_value:this.secretValue,id:C()()};return this.variables.push(n),this.$nextTick().then((function(){t.$refs["".concat(t.$options.inputTypes[e],"-").concat(n.id)][0].focus()}))},resetForm:function(){this.key="",this.secretValue=""},deleteVariable:function(e){this.variables.splice(this.variables.findIndex((function(t){return t.id===e})),1)}})},B=Object(j.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"js-manual-vars-form col-12"},[n("label",[e._v(e._s(e.s__("CiVariables|Variables")))]),e._v(" "),n("div",{staticClass:"ci-table"},[n("div",{staticClass:"gl-responsive-table-row table-row-header pb-0 pt-0 border-0",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-50",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("CiVariables|Key")))]),e._v(" "),n("div",{staticClass:"table-section section-50",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("CiVariables|Value")))])]),e._v(" "),e._l(e.variables,(function(t){return n("div",{key:t.id,staticClass:"gl-responsive-table-row"},[n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Key")))]),e._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"variable.key"}],ref:e.$options.inputTypes.key+"-"+t.id,refInFor:!0,staticClass:"ci-variable-body-item form-control",attrs:{placeholder:e.$options.i18n.keyPlaceholder},domProps:{value:t.key},on:{input:function(n){n.target.composing||e.$set(t,"key",n.target.value)}}})])]),e._v(" "),n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Value")))]),e._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.secret_value,expression:"variable.secret_value"}],ref:e.$options.inputTypes.value+"-"+t.id,refInFor:!0,staticClass:"ci-variable-body-item form-control",attrs:{placeholder:e.$options.i18n.valuePlaceholder},domProps:{value:t.secret_value},on:{input:function(n){n.target.composing||e.$set(t,"secret_value",n.target.value)}}})])]),e._v(" "),n("div",{staticClass:"table-section section-10"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}}),e._v(" "),n("div",{staticClass:"table-mobile-content justify-content-end"},[n("gl-button",{staticClass:"btn-transparent btn-blank w-25",on:{click:function(n){return e.deleteVariable(t.id)}}},[n("icon",{attrs:{name:"clear"}})],1)],1)])])})),e._v(" "),n("div",{staticClass:"gl-responsive-table-row"},[n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Key")))]),e._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],ref:"inputKey",staticClass:"js-input-key form-control",attrs:{placeholder:e.$options.i18n.keyPlaceholder},domProps:{value:e.key},on:{input:function(t){t.target.composing||(e.key=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Value")))]),e._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.secretValue,expression:"secretValue"}],ref:"inputSecretValue",staticClass:"ci-variable-body-item form-control",attrs:{placeholder:e.$options.i18n.valuePlaceholder},domProps:{value:e.secretValue},on:{input:function(t){t.target.composing||(e.secretValue=t.target.value)}}})])])])],2),e._v(" "),n("div",{staticClass:"d-flex prepend-top-default justify-content-center"},[n("p",{staticClass:"text-muted",domProps:{innerHTML:e._s(e.helpText)}})]),e._v(" "),n("div",{staticClass:"d-flex justify-content-center"},[n("gl-button",{attrs:{variant:"primary"},on:{click:function(t){return e.triggerManualJob(e.variables)}}},[e._v("\n      "+e._s(e.action.button_title)+"\n    ")])],1)])}),[],!1,null,null,null).exports,x={components:{GlLink:O.a,ManualVariablesForm:B},props:{illustrationPath:{type:String,required:!0},illustrationSizeClass:{type:String,required:!0},title:{type:String,required:!0},content:{type:String,required:!1,default:null},playable:{type:Boolean,required:!0,default:!1},scheduled:{type:Boolean,required:!1,default:!1},variablesSettingsUrl:{type:String,required:!1,default:null},action:{type:Object,required:!1,default:null,validator:function(e){return null===e||Object.prototype.hasOwnProperty.call(e,"path")&&Object.prototype.hasOwnProperty.call(e,"method")&&Object.prototype.hasOwnProperty.call(e,"button_title")}}},computed:{shouldRenderManualVariables:function(){return this.playable&&!this.scheduled}}},R=Object(j.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content",class:e.illustrationSizeClass},[n("img",{attrs:{src:e.illustrationPath}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[n("h4",{staticClass:"js-job-empty-state-title text-center"},[e._v(e._s(e.title))]),e._v(" "),e.content?n("p",{staticClass:"js-job-empty-state-content"},[e._v(e._s(e.content))]):e._e()]),e._v(" "),e.shouldRenderManualVariables?n("manual-variables-form",{attrs:{action:e.action,"variables-settings-url":e.variablesSettingsUrl}}):e._e(),e._v(" "),n("div",{staticClass:"text-content"},[e.action&&!e.shouldRenderManualVariables?n("div",{staticClass:"text-center"},[n("gl-link",{staticClass:"js-job-empty-state-action btn btn-primary",attrs:{href:e.action.path,"data-method":e.action.method}},[e._v(e._s(e.action.button_title))])],1):e._e()])],1)])}),[],!1,null,null,null).exports,q=n(93),I=n.n(q),N=n(197),J={components:{CiIcon:N.a},props:{deploymentStatus:{type:Object,required:!0},deploymentCluster:{type:Object,required:!1,default:null},iconStatus:{type:Object,required:!0}},computed:{environment:function(){switch(this.deploymentStatus.status){case"last":return this.lastEnvironmentMessage();case"out_of_date":return this.outOfDateEnvironmentMessage();case"failed":return this.failedEnvironmentMessage();case"creating":return this.creatingEnvironmentMessage();default:return""}},environmentLink:function(){return this.hasEnvironment?Object(T.e)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(this.deploymentStatus.environment.environment_path,'" class="js-environment-link">'),name:I()(this.deploymentStatus.environment.name),endLink:"</a>"},!1):""},hasLastDeployment:function(){return this.hasEnvironment&&this.deploymentStatus.environment.last_deployment},lastDeployment:function(){return this.hasLastDeployment?this.deploymentStatus.environment.last_deployment:{}},hasEnvironment:function(){return!o()(this.deploymentStatus.environment)},lastDeploymentPath:function(){return o()(this.lastDeployment.deployable)?"":this.lastDeployment.deployable.build_path},hasCluster:function(){return Boolean(this.deploymentCluster)&&Boolean(this.deploymentCluster.name)},clusterNameOrLink:function(){if(!this.hasCluster)return"";var e=this.deploymentCluster,t=e.name,n=e.path,i=I()(t),r=I()(n);return r?Object(T.e)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(r,'" class="js-job-cluster-link">'),name:i,endLink:"</a>"},!1):i},kubernetesNamespace:function(){return this.hasCluster?this.deploymentCluster.kubernetes_namespace:null}},methods:{deploymentLink:function(e){return Object(T.e)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(this.lastDeploymentPath,'" class="js-job-deployment-link">'),name:e,endLink:"</a>"},!1)},failedEnvironmentMessage:function(){var e=this.environmentLink;return Object(T.e)(Object(T.a)("The deployment of this job to %{environmentLink} did not succeed."),{environmentLink:e},!1)},lastEnvironmentMessage:function(){var e=this.environmentLink,t=this.clusterNameOrLink,n=this.hasCluster,i=this.kubernetesNamespace;return n?i?Object(T.e)(Object(T.a)("This job is deployed to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}."),{environmentLink:e,clusterNameOrLink:t,kubernetesNamespace:i},!1):Object(T.e)(Object(T.a)("This job is deployed to %{environmentLink} using cluster %{clusterNameOrLink}."),{environmentLink:e,clusterNameOrLink:t},!1):Object(T.e)(Object(T.a)("This job is deployed to %{environmentLink}."),{environmentLink:e},!1)},outOfDateEnvironmentMessage:function(){var e=this.hasLastDeployment,t=this.hasCluster,n=this.environmentLink,i=this.clusterNameOrLink,r=this.kubernetesNamespace;if(e){var s=this.deploymentLink(Object(T.a)("most recent deployment"));return t?r?Object(T.e)(Object(T.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}. View the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r,deploymentLink:s},!1):Object(T.e)(Object(T.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink}. View the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,deploymentLink:s},!1):Object(T.e)(Object(T.a)("This job is an out-of-date deployment to %{environmentLink}. View the %{deploymentLink}."),{environmentLink:n,deploymentLink:s},!1)}return t?r?Object(T.e)(Object(T.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r},!1):Object(T.e)(Object(T.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink}."),{environmentLink:n,clusterNameOrLink:i},!1):Object(T.e)(Object(T.a)("This job is an out-of-date deployment to %{environmentLink}."),{environmentLink:n},!1)},creatingEnvironmentMessage:function(){var e=this.hasLastDeployment,t=this.hasCluster,n=this.environmentLink,i=this.clusterNameOrLink,r=this.kubernetesNamespace;if(e){var s=this.deploymentLink(Object(T.a)("latest deployment"));return t?r?Object(T.e)(Object(T.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}. This will overwrite the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r,deploymentLink:s},!1):Object(T.e)(Object(T.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink}. This will overwrite the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,deploymentLink:s},!1):Object(T.e)(Object(T.a)("This job is creating a deployment to %{environmentLink}. This will overwrite the %{deploymentLink}."),{environmentLink:n,deploymentLink:s},!1)}return t?r?Object(T.e)(Object(T.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r},!1):Object(T.e)(Object(T.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink}."),{environmentLink:n,clusterNameOrLink:i},!1):Object(T.e)(Object(T.a)("This job is creating a deployment to %{environmentLink}."),{environmentLink:n},!1)}}},A=Object(j.a)(J,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"prepend-top-default append-bottom-default js-environment-container"},[t("div",{staticClass:"environment-information"},[t("ci-icon",{attrs:{status:this.iconStatus}}),this._v(" "),t("p",{staticClass:"inline append-bottom-0",domProps:{innerHTML:this._s(this.environment)}})],1)])}),[],!1,null,null,null).exports,D=n(198),V={components:{TimeagoTooltip:D.a,GlLink:O.a},props:{user:{type:Object,required:!1,default:function(){return{}}},erasedAt:{type:String,required:!0}},computed:{isErasedByUser:function(){return!o()(this.user)}}},M=Object(j.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prepend-top-default js-build-erased"},[n("div",{staticClass:"erased alert alert-warning"},[e.isErasedByUser?[e._v("\n      "+e._s(e.s__("Job|Job has been erased by"))+"\n      "),n("gl-link",{attrs:{href:e.user.web_url}},[e._v(" "+e._s(e.user.username)+" ")])]:[e._v("\n      "+e._s(e.s__("Job|Job has been erased"))+"\n    ")],e._v(" "),n("timeago-tooltip",{attrs:{time:e.erasedAt}})],2)])}),[],!1,null,null,null).exports,U=(n(72),n(828)),F=n(310),G={components:{Icon:S.a,GlLink:O.a,GlButton:w.a},directives:{GlTooltip:U.a},scrollDown:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path class="scroll-arrow" d="M8 10.4142L4.29289 6.70711C3.90237 6.31658 3.90237 5.68342 4.29289 5.2929C4.68342 4.90237 5.31658 4.90237 5.70711 5.2929L7 6.58579L7 1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1L9 6.58579L10.2929 5.2929C10.6834 4.90237 11.3166 4.90237 11.7071 5.2929C12.0976 5.68342 12.0976 6.31658 11.7071 6.70711L8 10.4142Z"/>\n<path class="scroll-dot" d="M8 16C9.10457 16 10 15.1046 10 14C10 12.8954 9.10457 12 8 12C6.89543 12 6 12.8954 6 14C6 15.1046 6.89543 16 8 16Z"/>\n</svg>\n',props:{erasePath:{type:String,required:!1,default:null},size:{type:Number,required:!0},rawPath:{type:String,required:!1,default:null},isScrollTopDisabled:{type:Boolean,required:!0},isScrollBottomDisabled:{type:Boolean,required:!0},isScrollingDown:{type:Boolean,required:!0},isTraceSizeVisible:{type:Boolean,required:!0}},computed:{jobLogSize:function(){return Object(T.e)(Object(T.a)("Showing last %{size} of log -"),{size:Object(F.b)(this.size)})}},mounted:function(){Object(f.a)(this.$el)},methods:{handleScrollToTop:function(){this.$emit("scrollJobLogTop")},handleScrollToBottom:function(){this.$emit("scrollJobLogBottom")}}},z=Object(j.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bar"},[n("div",{staticClass:"js-truncated-info truncated-info d-none d-sm-block float-left"},[e.isTraceSizeVisible?[e._v("\n      "+e._s(e.jobLogSize)+"\n      "),e.rawPath?n("gl-link",{staticClass:"js-raw-link text-plain text-underline prepend-left-5",attrs:{href:e.rawPath}},[e._v(e._s(e.s__("Job|Complete Raw")))]):e._e()]:e._e()],2),e._v(" "),n("div",{staticClass:"controllers float-right"},[e.rawPath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.body",modifiers:{body:!0}}],staticClass:"js-raw-link-controller controllers-buttons",attrs:{title:e.s__("Job|Show complete raw"),href:e.rawPath}},[n("icon",{attrs:{name:"doc-text"}})],1):e._e(),e._v(" "),e.erasePath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.body",modifiers:{body:!0}}],staticClass:"js-erase-link controllers-buttons",attrs:{title:e.s__("Job|Erase job log"),href:e.erasePath,"data-confirm":e.__("Are you sure you want to erase this build?"),"data-method":"post"}},[n("icon",{attrs:{name:"remove"}})],1):e._e(),e._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:e.s__("Job|Scroll to top")}},[n("gl-button",{staticClass:"js-scroll-top btn-scroll btn-transparent btn-blank",attrs:{disabled:e.isScrollTopDisabled,type:"button"},on:{click:e.handleScrollToTop}},[n("icon",{attrs:{name:"scroll_up"}})],1)],1),e._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:e.s__("Job|Scroll to bottom")}},[n("gl-button",{staticClass:"js-scroll-bottom btn-scroll btn-transparent btn-blank",class:{animate:e.isScrollingDown},attrs:{disabled:e.isScrollBottomDisabled},domProps:{innerHTML:e._s(e.$options.scrollDown)},on:{click:e.handleScrollToBottom}})],1)],1)])}),[],!1,null,null,null).exports,H={components:{GlLink:O.a},props:{hasNoRunnersForProject:{type:Boolean,required:!0},tags:{type:Array,required:!1,default:function(){return[]}},runnersPath:{type:String,required:!0}}},$=Object(j.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bs-callout bs-callout-warning"},[e.tags.length?n("p",{staticClass:"js-stuck-with-tags append-bottom-0"},[e._v("\n    "+e._s(e.s__("This job is stuck because you don't have\nany active runners online with any of these tags assigned to them:"))+"\n    "),e._l(e.tags,(function(t,i){return n("span",{key:i,staticClass:"badge badge-primary append-right-4"},[e._v("\n      "+e._s(t)+"\n    ")])}))],2):e.hasNoRunnersForProject?n("p",{staticClass:"js-stuck-no-runners append-bottom-0"},[e._v("\n    "+e._s(e.s__("Job|This job is stuck because the project\ndoesn't have any runners online assigned to it."))+"\n  ")]):n("p",{staticClass:"js-stuck-no-active-runner append-bottom-0"},[e._v("\n    "+e._s(e.s__("This job is stuck because you don't\nhave any active runners that can run this job."))+"\n  ")]),e._v("\n\n  "+e._s(e.__("Go to"))+"\n  "),e.runnersPath?n("gl-link",{staticClass:"js-runners-path",attrs:{href:e.runnersPath}},[e._v("\n    "+e._s(e.__("Runners page"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,W={components:{GlLink:O.a},props:{helpPath:{type:String,required:!0}}},K=Object(j.a)(W,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bs-callout bs-callout-danger"},[t("p",{staticClass:"js-failed-unmet-prerequisites append-bottom-0"},[this._v("\n    "+this._s(this.s__("Job|This job failed because the necessary resources were not successfully created."))+"\n\n    "),t("gl-link",{staticClass:"js-help-path",attrs:{href:this.helpPath}},[t("strong",[this._v(" "+this._s(this.__("More information"))+" ")])])],1)])}),[],!1,null,null,null).exports,Y=(n(49),n(189)),Q=n(62),X={name:"SidebarDetailRow",components:{GlLink:O.a},props:{title:{type:String,required:!1,default:""},value:{type:String,required:!0},helpUrl:{type:String,required:!1,default:""}},computed:{hasTitle:function(){return this.title.length>0},hasHelpURL:function(){return this.helpUrl.length>0}}},Z=Object(j.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"build-detail-row"},[e.hasTitle?n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.title)+":")]):e._e(),e._v(" "+e._s(e.value)+"\n  "),e.hasHelpURL?n("span",{staticClass:"help-button float-right"},[n("gl-link",{attrs:{href:e.helpUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[n("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})])],1):e._e()])}),[],!1,null,null,null).exports,ee={components:{TimeagoTooltip:D.a,GlLink:O.a},mixins:[Y.a],props:{artifact:{type:Object,required:!0}},computed:{isExpired:function(){return this.artifact.expired},willExpire:function(){return!1===this.artifact.expired}}},te=Object(j.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("div",{staticClass:"title font-weight-bold"},[e._v(e._s(e.s__("Job|Job artifacts")))]),e._v(" "),e.isExpired||e.willExpire?n("p",{staticClass:"build-detail-row",class:{"js-artifacts-removed":e.isExpired,"js-artifacts-will-be-removed":e.willExpire}},[e.isExpired?n("span",[e._v(e._s(e.s__("Job|The artifacts were removed")))]):e._e(),e._v(" "),e.willExpire?n("span",[e._v(e._s(e.s__("Job|The artifacts will be removed")))]):e._e(),e._v(" "),e.artifact.expire_at?n("timeago-tooltip",{attrs:{time:e.artifact.expire_at}}):e._e()],1):e._e(),e._v(" "),n("div",{staticClass:"btn-group d-flex prepend-top-10",attrs:{role:"group"}},[e.artifact.keep_path?n("gl-link",{staticClass:"js-keep-artifacts btn btn-sm btn-default",attrs:{href:e.artifact.keep_path,"data-method":"post"}},[e._v(e._s(e.s__("Job|Keep")))]):e._e(),e._v(" "),e.artifact.download_path?n("gl-link",{staticClass:"js-download-artifacts btn btn-sm btn-default",attrs:{href:e.artifact.download_path,download:"",rel:"nofollow"}},[e._v(e._s(e.s__("Job|Download")))]):e._e(),e._v(" "),e.artifact.browse_path?n("gl-link",{staticClass:"js-browse-artifacts btn btn-sm btn-default",attrs:{href:e.artifact.browse_path}},[e._v(e._s(e.s__("Job|Browse")))]):e._e()],1)])}),[],!1,null,null,null).exports,ne=(n(258),{components:{GlButton:w.a},props:{trigger:{type:Object,required:!0}},data:function(){return{showVariableValues:!1}},computed:{hasVariables:function(){return this.trigger.variables&&this.trigger.variables.length>0},getToggleButtonText:function(){return this.showVariableValues?Object(T.a)("Hide values"):Object(T.a)("Reveal values")},hasValues:function(){return this.trigger.variables.some((function(e){return e.value}))}},methods:{toggleValues:function(){this.showVariableValues=!this.showVariableValues},getDisplayValue:function(e){return this.showVariableValues?e:"••••••"}}}),ie=Object(j.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-widget block"},[e.trigger.short_token?n("p",{staticClass:"js-short-token",class:{"append-bottom-5":e.hasVariables,"append-bottom-0":!e.hasVariables}},[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Trigger token:")))]),e._v(" "+e._s(e.trigger.short_token)+"\n  ")]):e._e(),e._v(" "),e.hasVariables?[n("p",{staticClass:"trigger-variables-btn-container d-flex"},[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Trigger variables:")))]),e._v(" "),e.hasValues?n("gl-button",{staticClass:"btn-sm group js-reveal-variables trigger-variables-btn",on:{click:e.toggleValues}},[e._v(e._s(e.getToggleButtonText))]):e._e()],1),e._v(" "),n("table",{staticClass:"js-build-variables trigger-build-variables"},e._l(e.trigger.variables,(function(t,i){return n("tr",{key:t.key+"-"+i},[n("td",{staticClass:"js-build-variable trigger-build-variable trigger-variables-table-cell"},[e._v("\n          "+e._s(t.key)+"\n        ")]),e._v(" "),n("td",{staticClass:"js-build-value trigger-build-value trigger-variables-table-cell"},[e._v("\n          "+e._s(e.getDisplayValue(t.value))+"\n        ")])])})),0)]:e._e()],2)}),[],!1,null,null,null).exports,re={components:{ClipboardButton:n(158).a,GlLink:O.a},props:{commit:{type:Object,required:!0},mergeRequest:{type:Object,required:!1,default:null},isLastBlock:{type:Boolean,required:!0}}},se=Object(j.a)(re,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"block-last":e.isLastBlock,block:!e.isLastBlock}},[n("p",{staticClass:"append-bottom-5"},[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Commit")))]),e._v(" "),n("gl-link",{staticClass:"js-commit-sha commit-sha link-commit",attrs:{href:e.commit.commit_path}},[e._v("\n      "+e._s(e.commit.short_id)+"\n    ")]),e._v(" "),n("clipboard-button",{attrs:{text:e.commit.id,title:e.__("Copy commit SHA"),"css-class":"btn btn-clipboard btn-transparent"}}),e._v(" "),e.mergeRequest?n("span",[e._v("\n      in\n      "),n("gl-link",{staticClass:"js-link-commit link-commit",attrs:{href:e.mergeRequest.path}},[e._v("!"+e._s(e.mergeRequest.iid))])],1):e._e()],1),e._v(" "),n("p",{staticClass:"append-bottom-0"},[e._v(e._s(e.commit.title))])])}),[],!1,null,null,null).exports,ae=(n(680),{components:{CiIcon:N.a,GlLink:O.a},props:{pipeline:{type:Object,required:!0},stages:{type:Array,required:!0},selectedStage:{type:String,required:!0}},computed:{hasRef:function(){return!o()(this.pipeline.ref)},isTriggeredByMergeRequest:function(){return Boolean(this.pipeline.merge_request)},isMergeRequestPipeline:function(){return Boolean(this.pipeline.flags&&this.pipeline.flags.merge_request_pipeline)}},methods:{onStageClick:function(e){this.$emit("requestSidebarStageDropdown",e)}}}),oe=Object(j.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block-last dropdown"},[n("div",{staticClass:"js-pipeline-info"},[n("ci-icon",{staticClass:"vertical-align-middle",attrs:{status:e.pipeline.details.status}}),e._v(" "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.s__("Job|Pipeline")))]),e._v(" "),n("gl-link",{staticClass:"js-pipeline-path link-commit qa-pipeline-path",attrs:{href:e.pipeline.path}},[e._v("#"+e._s(e.pipeline.id))]),e._v(" "),e.hasRef?[e._v("\n      "+e._s(e.s__("Job|for"))+"\n\n      "),e.isTriggeredByMergeRequest?[n("gl-link",{staticClass:"link-commit ref-name js-mr-link",attrs:{href:e.pipeline.merge_request.path}},[e._v("!"+e._s(e.pipeline.merge_request.iid))]),e._v("\n        "+e._s(e.s__("Job|with"))+"\n        "),n("gl-link",{staticClass:"link-commit ref-name js-source-branch-link",attrs:{href:e.pipeline.merge_request.source_branch_path}},[e._v(e._s(e.pipeline.merge_request.source_branch))]),e._v(" "),e.isMergeRequestPipeline?[e._v("\n          "+e._s(e.s__("Job|into"))+"\n          "),n("gl-link",{staticClass:"link-commit ref-name js-target-branch-link",attrs:{href:e.pipeline.merge_request.target_branch_path}},[e._v(e._s(e.pipeline.merge_request.target_branch))])]:e._e()]:n("gl-link",{staticClass:"link-commit ref-name",attrs:{href:e.pipeline.ref.path}},[e._v(e._s(e.pipeline.ref.name))])]:e._e()],2),e._v(" "),n("button",{staticClass:"js-selected-stage dropdown-menu-toggle prepend-top-8",attrs:{type:"button","data-toggle":"dropdown"}},[e._v("\n    "+e._s(e.selectedStage)+" "),n("i",{staticClass:"fa fa-chevron-down"})]),e._v(" "),n("ul",{staticClass:"dropdown-menu"},e._l(e.stages,(function(t){return n("li",{key:t.name},[n("button",{staticClass:"js-stage-item stage-item",attrs:{type:"button"},on:{click:function(n){return e.onStageClick(t)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])])})),0)])}),[],!1,null,null,null).exports,le=n(99),ce=n(449),ue={components:{CiIcon:N.a,Icon:S.a,GlLink:O.a},directives:{tooltip:le.a},mixins:[ce.a],props:{job:{type:Object,required:!0},isActive:{type:Boolean,required:!0}},computed:{tooltipText:function(){var e=this.job,t=e.name,n=e.status,i="".concat(t," - ").concat(n.tooltip);return this.isDelayedJob?Object(T.e)(i,{remainingTime:this.remainingTime}):i}}},de={components:{JobContainerItem:Object(j.a)(ue,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-job position-relative",class:{retried:e.job.retried,active:e.isActive}},[n("gl-link",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-job-link d-flex",attrs:{href:e.job.status.details_path,title:e.tooltipText,"data-boundary":"viewport"}},[e.isActive?n("icon",{staticClass:"js-arrow-right icon-arrow-right position-absolute d-block",attrs:{name:"arrow-right"}}):e._e(),e._v(" "),n("ci-icon",{attrs:{status:e.job.status}}),e._v(" "),n("span",{staticClass:"text-truncate w-100"},[e._v(e._s(e.job.name?e.job.name:e.job.id))]),e._v(" "),e.job.retried?n("icon",{staticClass:"js-retry-icon",attrs:{name:"retry"}}):e._e()],1)],1)}),[],!1,null,null,null).exports},props:{jobs:{type:Array,required:!0},jobId:{type:Number,required:!0}},methods:{isJobActive:function(e){return this.jobId===e}}},pe=Object(j.a)(de,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"js-jobs-container builds-container"},e._l(e.jobs,(function(t){return n("job-container-item",{key:t.id,attrs:{job:t,"is-active":e.isJobActive(t.id)}})})),1)}),[],!1,null,null,null).exports;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={name:"JobSidebar",components:{ArtifactsBlock:te,CommitBlock:se,DetailRow:Z,Icon:S.a,TriggerBlock:ie,StagesDropdown:oe,JobsContainer:pe,GlLink:O.a,GlButton:w.a},mixins:[Y.a],props:{runnerHelpUrl:{type:String,required:!1,default:""}},computed:he({},Object(u.e)(["job","stages","jobs","selectedStage"]),{coverage:function(){return"".concat(this.job.coverage,"%")},duration:function(){return Object(Q.t)(this.job.duration)},queued:function(){return Object(Q.t)(this.job.queued)},runnerId:function(){return"".concat(this.job.runner.description," (#").concat(this.job.runner.id,")")},retryButtonClass:function(){var e="js-retry-button btn btn-retry";return e+=this.job.status&&this.job.recoverable?" btn-primary":" btn-inverted-secondary"},hasTimeout:function(){return null!=this.job.metadata&&null!==this.job.metadata.timeout_human_readable},timeout:function(){if(null==this.job.metadata)return"";var e=this.job.metadata.timeout_human_readable;return""!==this.job.metadata.timeout_source&&(e+=Object(T.e)(Object(T.a)(" (from %{timeoutSource})"),{timeoutSource:this.job.metadata.timeout_source})),e},renderBlock:function(){return this.job.duration||this.job.finished_at||this.job.erased_at||this.job.queued||this.hasTimeout||this.job.runner||this.job.coverage||this.job.tags.length},hasArtifact:function(){return!o()(this.job.artifact)},hasTriggers:function(){return!o()(this.job.trigger)},hasStages:function(){return this.job&&this.job.pipeline&&this.job.pipeline.stages&&this.job.pipeline.stages.length>0||!1},commit:function(){return this.job.pipeline&&this.job.pipeline.commit?this.job.pipeline.commit:{}}}),methods:he({},Object(u.c)(["fetchJobsForStage","toggleSidebar"]))},ge=Object(j.a)(fe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"right-sidebar build-sidebar",attrs:{"data-offset-top":"101","data-spy":"affix"}},[n("div",{staticClass:"sidebar-container"},[n("div",{staticClass:"blocks-container"},[n("div",{staticClass:"block d-flex flex-nowrap align-items-center"},[n("h4",{staticClass:"my-0 mr-2 text-break-word"},[e._v(e._s(e.job.name))]),e._v(" "),n("div",{staticClass:"flex-grow-1 flex-shrink-0 text-right"},[e.job.retry_path?n("gl-link",{class:e.retryButtonClass,attrs:{href:e.job.retry_path,"data-method":"post","data-qa-selector":"retry_button",rel:"nofollow"}},[e._v(e._s(e.__("Retry")))]):e._e(),e._v(" "),e.job.cancel_path?n("gl-link",{staticClass:"js-cancel-job btn btn-default",attrs:{href:e.job.cancel_path,"data-method":"post",rel:"nofollow"}},[e._v(e._s(e.__("Cancel")))]):e._e()],1),e._v(" "),n("gl-button",{staticClass:"btn btn-blank gutter-toggle float-right d-block d-md-none js-sidebar-build-toggle",attrs:{"aria-label":e.__("Toggle Sidebar"),type:"button"},on:{click:e.toggleSidebar}},[n("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})])],1),e._v(" "),e.job.terminal_path||e.job.new_issue_path?n("div",{staticClass:"block retry-link"},[e.job.new_issue_path?n("gl-link",{staticClass:"js-new-issue btn btn-success btn-inverted float-left mr-2",attrs:{href:e.job.new_issue_path}},[e._v(e._s(e.__("New issue")))]):e._e(),e._v(" "),e.job.terminal_path?n("gl-link",{staticClass:"js-terminal-link btn btn-primary btn-inverted visible-md-block visible-lg-block float-left",attrs:{href:e.job.terminal_path,target:"_blank"}},[e._v("\n          "+e._s(e.__("Debug"))+" "),n("icon",{attrs:{name:"external-link",size:14}})],1):e._e()],1):e._e(),e._v(" "),e.renderBlock?n("div",{staticClass:"block"},[e.job.duration?n("detail-row",{staticClass:"js-job-duration",attrs:{value:e.duration,title:"Duration"}}):e._e(),e._v(" "),e.job.finished_at?n("detail-row",{staticClass:"js-job-finished",attrs:{value:e.timeFormatted(e.job.finished_at),title:"Finished"}}):e._e(),e._v(" "),e.job.erased_at?n("detail-row",{staticClass:"js-job-erased",attrs:{value:e.timeFormatted(e.job.erased_at),title:"Erased"}}):e._e(),e._v(" "),e.job.queued?n("detail-row",{staticClass:"js-job-queued",attrs:{value:e.queued,title:"Queued"}}):e._e(),e._v(" "),e.hasTimeout?n("detail-row",{staticClass:"js-job-timeout",attrs:{"help-url":e.runnerHelpUrl,value:e.timeout,title:"Timeout"}}):e._e(),e._v(" "),e.job.runner?n("detail-row",{staticClass:"js-job-runner",attrs:{value:e.runnerId,title:"Runner"}}):e._e(),e._v(" "),e.job.coverage?n("detail-row",{staticClass:"js-job-coverage",attrs:{value:e.coverage,title:"Coverage"}}):e._e(),e._v(" "),e.job.tags.length?n("p",{staticClass:"build-detail-row js-job-tags"},[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Tags:")))]),e._v(" "),e._l(e.job.tags,(function(t,i){return n("span",{key:i,staticClass:"badge badge-primary mr-1"},[e._v(e._s(t))])}))],2):e._e()],1):e._e(),e._v(" "),e.hasArtifact?n("artifacts-block",{attrs:{artifact:e.job.artifact}}):e._e(),e._v(" "),e.hasTriggers?n("trigger-block",{attrs:{trigger:e.job.trigger}}):e._e(),e._v(" "),n("commit-block",{attrs:{"is-last-block":e.hasStages,commit:e.commit,"merge-request":e.job.merge_request}}),e._v(" "),n("stages-dropdown",{attrs:{stages:e.stages,pipeline:e.job.pipeline,"selected-stage":e.selectedStage},on:{requestSidebarStageDropdown:e.fetchJobsForStage}})],1),e._v(" "),e.jobs.length?n("jobs-container",{attrs:{jobs:e.jobs,"job-id":e.job.id}}):e._e()],1)])}),[],!1,null,null,null).exports;n(56),n(78),n(40),n(129),n(68),n(36),n(41);function ve(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return je({},e,{lineNumber:t})},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{isClosed:!1,isHeader:!0,line:Se(e,t),lines:[]}};function ke(e,t){e.forEach((function(e){e.line&&e.line.section===t.section&&(e.line.section_duration=t.section_duration)}))}var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.length>0&&!0===t.isHeader&&!n.section_duration&&n.section===t.line.section},we=function(e){var t,n=e[e.length-1],i=n.lines;return 0===(t=n.isHeader&&!i.length&&n.line?n.line.lineNumber:n.isHeader&&i.length?i[i.length-1].lineNumber:n.lineNumber)?1:t+1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n,i){var r=t.length>0?we(e):i,s=e[e.length-1];return n.section_header?e.push(Oe(n,r)):Ce(e,s,n)?s.lines.push(Se(n,r)):n.section_duration?ke(e,n):e.push(Se(n,r)),e}),ve(t))},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ve(t),i=n.length-1,r=n[i],s=e[0];if(r&&s)if(r.offset===s.offset||r.line&&r.line.offset===s.offset)n.splice(i);else if(r.lines&&r.lines.length){var a=r.lines.length-1,o=r.lines[a];o.offset===s.offset&&r.lines.splice(a)}return n},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Le(e,t);return Te(e,n)},Pe=function(){return gon&&gon.features&&gon.features.jobLogJson};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe,Ie,Ne={name:"JobPageApp",components:{CiHeader:g.a,Callout:y,EmptyState:R,EnvironmentsBlock:A,ErasedBlock:M,Icon:S.a,Log:function(){return Pe()?n.e(306).then(n.bind(null,3242)):n.e(305).then(n.bind(null,3245))},LogTopBar:z,StuckBlock:$,UnmetPrerequisitesBlock:K,Sidebar:ge,GlLoadingIcon:d.a,SharedRunner:function(){return n.e(4).then(n.bind(null,3230))}},mixins:[ce.a],props:{runnerSettingsUrl:{type:String,required:!1,default:null},variablesSettingsUrl:{type:String,required:!1,default:null},runnerHelpUrl:{type:String,required:!1,default:null},deploymentHelpUrl:{type:String,required:!1,default:null},terminalPath:{type:String,required:!1,default:null},projectPath:{type:String,required:!0},subscriptionsMoreMinutesUrl:{type:String,required:!1,default:null}},computed:xe({},Object(u.e)(["isLoading","job","isSidebarOpen","trace","isTraceComplete","traceSize","isTraceSizeVisible","isScrollBottomDisabled","isScrollTopDisabled","isScrolledToBottomBeforeReceivingTrace","hasError","selectedStage"]),{},Object(u.d)(["headerTime","hasUnmetPrerequisitesFailure","shouldRenderCalloutMessage","shouldRenderTriggeredLabel","hasEnvironment","shouldRenderSharedRunnerLimitWarning","hasTrace","emptyStateIllustration","isScrollingDown","emptyStateAction","hasRunnersForProject"]),{shouldRenderContent:function(){return!this.isLoading&&!this.hasError},emptyStateTitle:function(){var e=this.emptyStateIllustration,t=this.remainingTime,n=e.title;return this.isDelayedJob?Object(T.e)(n,{remainingTime:t}):n},shouldRenderHeaderCallout:function(){return this.shouldRenderCalloutMessage&&!this.hasUnmetPrerequisitesFailure}}),watch:{job:function(e,t){var n=this;if(o()(t)&&!o()(e.pipeline)){var i=(this.job.pipeline.details.stages||[]).find((function(e){return e&&e.name===n.selectedStage}));i&&this.fetchJobsForStage(i)}e.archived&&this.$nextTick((function(){n.$refs.sticky&&Object(f.a)(n.$refs.sticky)}))}},created:function(){this.throttled=c()(this.toggleScrollButtons,100),window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.updateScroll)},mounted:function(){this.updateSidebar()},beforeDestroy:function(){this.stopPollingTrace(),this.stopPolling(),window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.updateScroll)},methods:xe({},Object(u.c)(["fetchJobsForStage","hideSidebar","showSidebar","toggleSidebar","scrollBottom","scrollTop","stopPollingTrace","stopPolling","toggleScrollButtons","toggleScrollAnimation"]),{onResize:function(){this.updateSidebar(),this.updateScroll()},updateSidebar:function(){var e=p.b.getBreakpointSize();"xs"===e||"sm"===e?this.hideSidebar():this.isSidebarOpen||this.showSidebar()},updateScroll:function(){m()?this.isScrollingDown&&this.toggleScrollAnimation(!0):this.toggleScrollAnimation(!1),this.throttled()}})},Je=Object(j.a)(Ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoading?n("gl-loading-icon",{staticClass:"js-job-loading qa-loading-animation prepend-top-20",attrs:{size:"lg"}}):e.shouldRenderContent?[n("div",{staticClass:"js-job-content build-page"},[n("header",[n("div",{staticClass:"js-build-header build-header top-area"},[n("ci-header",{attrs:{status:e.job.status,"item-id":e.job.id,time:e.headerTime,user:e.job.user,"has-sidebar-button":!0,"should-render-triggered-label":e.shouldRenderTriggeredLabel,"item-name":e.__("Job")},on:{clickedSidebarButton:e.toggleSidebar}})],1),e._v(" "),e.shouldRenderHeaderCallout?n("callout",[n("div",{domProps:{innerHTML:e._s(e.job.callout_message)}})]):e._e()],1),e._v(" "),e.job.stuck?n("stuck-block",{staticClass:"js-job-stuck",attrs:{"has-no-runners-for-project":e.hasRunnersForProject,tags:e.job.tags,"runners-path":e.runnerSettingsUrl}}):e._e(),e._v(" "),e.hasUnmetPrerequisitesFailure?n("unmet-prerequisites-block",{staticClass:"js-job-failed",attrs:{"help-path":e.deploymentHelpUrl}}):e._e(),e._v(" "),e.shouldRenderSharedRunnerLimitWarning?n("shared-runner",{staticClass:"js-shared-runner-limit",attrs:{"quota-used":e.job.runners.quota.used,"quota-limit":e.job.runners.quota.limit,"runners-path":e.runnerHelpUrl,"project-path":e.projectPath,"subscriptions-more-minutes-url":e.subscriptionsMoreMinutesUrl}}):e._e(),e._v(" "),e.hasEnvironment?n("environments-block",{staticClass:"js-job-environment",attrs:{"deployment-status":e.job.deployment_status,"deployment-cluster":e.job.deployment_cluster,"icon-status":e.job.status}}):e._e(),e._v(" "),e.job.erased_at?n("erased-block",{staticClass:"js-job-erased-block",attrs:{user:e.job.erased_by,"erased-at":e.job.erased_at}}):e._e(),e._v(" "),e.job.archived?n("div",{ref:"sticky",staticClass:"js-archived-job prepend-top-default archived-job",class:{"sticky-top border-bottom-0":e.hasTrace}},[n("icon",{staticClass:"align-text-bottom",attrs:{name:"lock"}}),e._v("\n        "+e._s(e.__("This job is archived. Only the complete pipeline can be retried."))+"\n      ")],1):e._e(),e._v(" "),e.hasTrace?n("div",{staticClass:"build-trace-container position-relative",class:{"prepend-top-default":!e.job.archived}},[n("log-top-bar",{class:{"sidebar-expanded":e.isSidebarOpen,"sidebar-collapsed":!e.isSidebarOpen,"has-archived-block":e.job.archived},attrs:{"erase-path":e.job.erase_path,size:e.traceSize,"raw-path":e.job.raw_path,"is-scroll-bottom-disabled":e.isScrollBottomDisabled,"is-scroll-top-disabled":e.isScrollTopDisabled,"is-trace-size-visible":e.isTraceSizeVisible,"is-scrolling-down":e.isScrollingDown},on:{scrollJobLogTop:e.scrollTop,scrollJobLogBottom:e.scrollBottom}}),e._v(" "),n("log",{attrs:{trace:e.trace,"is-complete":e.isTraceComplete}})],1):e._e(),e._v(" "),e.hasTrace?e._e():n("empty-state",{staticClass:"js-job-empty-state",attrs:{"illustration-path":e.emptyStateIllustration.image,"illustration-size-class":e.emptyStateIllustration.size,title:e.emptyStateTitle,content:e.emptyStateIllustration.content,action:e.emptyStateAction,playable:e.job.playable,scheduled:e.job.scheduled,"variables-settings-url":e.variablesSettingsUrl}})],1)]:e._e(),e._v(" "),e.shouldRenderContent?n("sidebar",{staticClass:"js-job-sidebar",class:{"right-sidebar-expanded":e.isSidebarOpen,"right-sidebar-collapsed":!e.isSidebarOpen},attrs:{"runner-help-url":e.runnerHelpUrl}}):e._e()],2)}),[],!1,null,null,null).exports,Ae=(n(46),n(77),n(125)),De=n.n(Ae),Ve=n(11),Me=n(159),Ue=n(16),Fe=n(14),Ge=function(e,t){var n=e.dispatch,i=t.endpoint,r=t.logState,s=t.pagePath;return n("setJobEndpoint",i),n("setTraceOptions",{logState:r,pagePath:s}),Promise.all([n("fetchJob"),n("fetchTrace")])},ze=function(e,t){return(0,e.commit)("SET_JOB_ENDPOINT",t)},He=function(e,t){return(0,e.commit)("SET_TRACE_OPTIONS",t)},$e=function(e){return(0,e.commit)("HIDE_SIDEBAR")},We=function(e){return(0,e.commit)("SHOW_SIDEBAR")},Ke=function(e){var t=e.dispatch;e.state.isSidebarOpen?t("hideSidebar"):t("showSidebar")},Ye=function(){qe=null},Qe=function(){qe&&qe.stop()},Xe=function(){qe&&qe.restart()},Ze=function(e){return(0,e.commit)("REQUEST_JOB")},et=function(e){var t=e.state,n=e.dispatch;n("requestJob"),qe=new Me.a({resource:{getJob:function(e){return Ve.a.get(e)}},data:t.jobEndpoint,method:"getJob",successCallback:function(e){var t=e.data;return n("receiveJobSuccess",t)},errorCallback:function(){return n("receiveJobError")}}),De.a.hidden()?Ve.a.get(t.jobEndpoint).then((function(e){var t=e.data;return n("receiveJobSuccess",t)})).catch((function(){return n("receiveJobError")})):qe.makeRequest(),De.a.change((function(){De.a.hidden()?n("stopPolling"):n("restartPolling")}))},tt=function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("RECEIVE_JOB_SUCCESS",n),n.status&&n.status.favicon?Object(Ue.P)(n.status.favicon):Object(Ue.K)()},nt=function(e){(0,e.commit)("RECEIVE_JOB_ERROR"),Object(Fe.a)(Object(T.a)("An error occurred while fetching the job.")),Object(Ue.K)()},it=function(e){var t=e.dispatch;h()(document).scrollTop(0),t("toggleScrollButtons")},rt=function(e){var t,n=e.dispatch;(t=h()(document)).scrollTop(t.height()),n("toggleScrollButtons")},st=function(e){var t,n,i,r,s=e.dispatch;h()(document).height()>h()(window).height()?(t=h()(document),n=t.scrollTop(),i=t.height(),r=h()(window).height(),n>0&&i-n!==r?(s("enableScrollTop"),s("enableScrollBottom")):0===h()(document).scrollTop()?(s("disableScrollTop"),s("enableScrollBottom")):m()&&(s("disableScrollBottom"),s("enableScrollTop"))):(s("disableScrollBottom"),s("disableScrollTop"))},at=function(e){return(0,e.commit)("DISABLE_SCROLL_BOTTOM")},ot=function(e){return(0,e.commit)("DISABLE_SCROLL_TOP")},lt=function(e){return(0,e.commit)("ENABLE_SCROLL_BOTTOM")},ct=function(e){return(0,e.commit)("ENABLE_SCROLL_TOP")},ut=function(e,t){return(0,e.commit)("TOGGLE_SCROLL_ANIMATION",t)},dt=function(e,t){(0,e.commit)("TOGGLE_IS_SCROLL_IN_BOTTOM",t)},pt=function(e){return(0,e.commit)("REQUEST_TRACE")},bt=function(e){var t=e.dispatch,n=e.state;return Ve.a.get("".concat(n.traceEndpoint,"/trace.json"),{params:{state:n.traceState}}).then((function(e){var i=e.data;t("toggleScrollisInBottom",m()),t("receiveTraceSuccess",i),i.complete?t("stopPollingTrace"):n.traceTimeout||t("startPollingTrace")})).catch((function(){return t("receiveTraceError")}))},ht=function(e){var t=e.dispatch,n=e.commit,i=setTimeout((function(){n("SET_TRACE_TIMEOUT",0),t("fetchTrace")}),4e3);n("SET_TRACE_TIMEOUT",i)},mt=function(e){var t=e.state,n=e.commit;clearTimeout(t.traceTimeout),n("SET_TRACE_TIMEOUT",0),n("STOP_POLLING_TRACE")},ft=function(e,t){return(0,e.commit)("RECEIVE_TRACE_SUCCESS",t)},gt=function(e){(0,e.dispatch)("stopPollingTrace"),Object(Fe.a)(Object(T.a)("An error occurred while fetching the job log."))},vt=function(e,t){return(0,e.commit)("TOGGLE_COLLAPSIBLE_LINE",t)},_t=function(e,t){return(0,e.commit)("REQUEST_JOBS_FOR_STAGE",t)},jt=function(e){var t=e.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("requestJobsForStage",n),Ve.a.get(n.dropdown_path,{params:{retried:1}}).then((function(e){var n=e.data,i=n.retried.map((function(e){return Object.assign({},e,{retried:!0})})),r=n.latest_statuses.concat(i);t("receiveJobsForStageSuccess",r)})).catch((function(){return t("receiveJobsForStageError")}))},yt=function(e,t){return(0,e.commit)("RECEIVE_JOBS_FOR_STAGE_SUCCESS",t)},St=function(e){(0,e.commit)("RECEIVE_JOBS_FOR_STAGE_ERROR"),Object(Fe.a)(Object(T.a)("An error occurred while fetching the jobs."))},Ot=function(e,t){var n=e.state,i=t.map((function(e){var t=Object.assign({},e);return delete t.id,t}));Ve.a.post(n.job.status.action.path,{job_variables_attributes:i}).catch((function(){return Object(Fe.a)(Object(T.a)("An error occurred while triggering the job."))}))},kt=function(){},Ct=n(540),wt=n.n(Ct),Tt=function(e){return e.job.started?e.job.started:e.job.created_at},Lt=function(e){return e.job&&e.job.failure_reason&&"unmet_prerequisites"===e.job.failure_reason},Et=function(e){return!o()(e.job.status)&&!o()(e.job.callout_message)},Pt=function(e){return wt()(e.job.started)},Bt=function(e){return!o()(e.job.deployment_status)},xt=function(e){return e.job.has_trace||!o()(e.job.status)&&"running"===e.job.status.group},Rt=function(e){return e.job&&e.job.status&&e.job.status.illustration||{}},qt=function(e){return e.job&&e.job.status&&e.job.status.action||null},It=function(e){return!o()(e.job.runners)&&!o()(e.job.runners.quota)&&e.job.runners.quota.used>=e.job.runners.quota.limit},Nt=function(e){return m()&&!e.isTraceComplete},Jt=function(e){return e.job.runners.available&&!e.job.runners.online},At=function(){};function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=(Dt(Ie={},"SET_JOB_ENDPOINT",(function(e,t){e.jobEndpoint=t})),Dt(Ie,"SET_TRACE_OPTIONS",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.traceEndpoint=t.pagePath,e.traceState=t.logState})),Dt(Ie,"HIDE_SIDEBAR",(function(e){e.isSidebarOpen=!1})),Dt(Ie,"SHOW_SIDEBAR",(function(e){e.isSidebarOpen=!0})),Dt(Ie,"RECEIVE_TRACE_SUCCESS",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.state&&(e.traceState=t.state),t.append?(Pe()?e.trace=t.lines?Ee(t.lines,e.trace):e.trace:e.trace+=t.html,e.traceSize+=t.size):(Pe()?e.trace=t.lines?Te(t.lines):e.trace:e.trace=t.html||e.trace,e.traceSize=t.size||e.traceSize),e.traceSize<t.total?e.isTraceSizeVisible=!0:e.isTraceSizeVisible=!1,e.isTraceComplete=t.complete||e.isTraceComplete})),Dt(Ie,"SET_TRACE_TIMEOUT",(function(e,t){e.traceTimeout=t})),Dt(Ie,"STOP_POLLING_TRACE",(function(e){e.isTraceComplete=!0})),Dt(Ie,"TOGGLE_COLLAPSIBLE_LINE",(function(e,t){s.default.set(t,"isClosed",!t.isClosed)})),Dt(Ie,"REQUEST_JOB",(function(e){e.isLoading=!0})),Dt(Ie,"RECEIVE_JOB_SUCCESS",(function(e,t){e.hasError=!1,e.isLoading=!1,e.job=t,e.stages=t.pipeline&&t.pipeline.details&&t.pipeline.details.stages?t.pipeline.details.stages:[],""===e.selectedStage&&t.stage&&(e.selectedStage=t.stage)})),Dt(Ie,"RECEIVE_JOB_ERROR",(function(e){e.isLoading=!1,e.job={},e.hasError=!0})),Dt(Ie,"ENABLE_SCROLL_TOP",(function(e){e.isScrollTopDisabled=!1})),Dt(Ie,"DISABLE_SCROLL_TOP",(function(e){e.isScrollTopDisabled=!0})),Dt(Ie,"ENABLE_SCROLL_BOTTOM",(function(e){e.isScrollBottomDisabled=!1})),Dt(Ie,"DISABLE_SCROLL_BOTTOM",(function(e){e.isScrollBottomDisabled=!0})),Dt(Ie,"TOGGLE_SCROLL_ANIMATION",(function(e,t){e.isScrollingDown=t})),Dt(Ie,"TOGGLE_IS_SCROLL_IN_BOTTOM",(function(e,t){e.isScrolledToBottomBeforeReceivingTrace=t})),Dt(Ie,"REQUEST_JOBS_FOR_STAGE",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isLoadingJobs=!0,e.selectedStage=t.name})),Dt(Ie,"RECEIVE_JOBS_FOR_STAGE_SUCCESS",(function(e,t){e.isLoadingJobs=!1,e.jobs=t})),Dt(Ie,"RECEIVE_JOBS_FOR_STAGE_ERROR",(function(e){e.isLoadingJobs=!1,e.jobs=[]})),Ie);s.default.use(u.b);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("js-job-vue-app"),t=new u.b.Store({actions:i,mutations:Vt,getters:r,state:{jobEndpoint:null,traceEndpoint:null,isSidebarOpen:!0,isLoading:!1,hasError:!1,job:{},isScrollBottomDisabled:!0,isScrollTopDisabled:!0,isScrolledToBottomBeforeReceivingTrace:!0,trace:Pe()?[]:"",isTraceComplete:!1,traceSize:0,isTraceSizeVisible:!1,traceTimeout:0,traceState:null,isLoadingJobs:!1,selectedStage:"",stages:[],jobs:[]}});return t.dispatch("init",e.dataset),new s.default({el:e,store:t,components:{JobApp:Je},render:function(t){var n=e.dataset;return t("job-app",{props:{deploymentHelpUrl:n.deploymentHelpUrl,runnerHelpUrl:n.runnerHelpUrl,runnerSettingsUrl:n.runnerSettingsUrl,variablesSettingsUrl:n.variablesSettingsUrl,subscriptionsMoreMinutesUrl:n.subscriptionsMoreMinutesUrl,endpoint:n.endpoint,pagePath:n.pagePath,logState:n.logState,buildStatus:n.buildStatus,projectPath:n.projectPath}})}})}))},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));n(24),n(49),n(56),n(30),n(40),n(72),n(740),n(430),n(548),n(18),n(55),n(68),n(36),n(67),n(41);var i=n(112),r=n(1);function s(e){return e/(i.a*i.a)}function a(e){return e/(i.a*i.a*i.a)}function o(e){return e<i.a?Object(r.e)(Object(r.a)("%{size} bytes"),{size:e}):e<i.a*i.a?Object(r.e)(Object(r.a)("%{size} KiB"),{size:(t=e,t/i.a).toFixed(2)}):e<i.a*i.a*i.a?Object(r.e)(Object(r.a)("%{size} MiB"),{size:s(e).toFixed(2)}):Object(r.e)(Object(r.a)("%{size} GiB"),{size:a(e).toFixed(2)});var t}},312:function(e,t,n){var i=n(651),r=0;e.exports=function(e){var t=++r;return i(e)+t}},378:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n(484),r=n.n(i),s=function(e,t,n,i){var r=Math.floor(e.offsetTop-t);if(r<=n&&!e.classList.contains("is-stuck")){var s=i?function(){var e=document.createElement("div");return e.classList.add("sticky-placeholder"),e}():null,a=e.offsetHeight;e.classList.add("is-stuck"),i&&(e.parentNode.insertBefore(s,e.nextElementSibling),s.style.height="".concat(a-e.offsetHeight,"px"))}else r>n&&e.classList.contains("is-stuck")&&(e.classList.remove("is-stuck"),i&&e.nextElementSibling&&e.nextElementSibling.classList.contains("sticky-placeholder")&&e.nextElementSibling.remove())},a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&"undefined"!=typeof CSS&&CSS.supports("(position: -webkit-sticky) or (position: sticky)")&&document.addEventListener("scroll",(function(){return s(e,window.scrollY,t,n)}),{passive:!0})},o=function(e){r.a.add(e)}},484:function(e,t,n){!function(t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r,s=!1,a=void 0!==t;a&&t.getComputedStyle?(r=n.createElement("div"),["","-webkit-","-moz-","-ms-"].some((function(e){try{r.style.position=e+"sticky"}catch(e){}return""!=r.style.position}))&&(s=!0)):s=!0;var o=!1,l="undefined"!=typeof ShadowRoot,c={top:null,left:null},u=[];function d(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function p(e){return parseFloat(e)||0}function b(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}var h=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(u.some((function(e){return e._node===t})))throw new Error("Stickyfill is already applied to this node");this._node=t,this._stickyMode=null,this._active=!1,u.push(this),this.refresh()}return i(e,[{key:"refresh",value:function(){if(!s&&!this._removed){this._active&&this._deactivate();var e=this._node,i=getComputedStyle(e),r={position:i.position,top:i.top,display:i.display,marginTop:i.marginTop,marginBottom:i.marginBottom,marginLeft:i.marginLeft,marginRight:i.marginRight,cssFloat:i.cssFloat};if(!isNaN(parseFloat(r.top))&&"table-cell"!=r.display&&"none"!=r.display){this._active=!0;var a=e.style.position;"sticky"!=i.position&&"-webkit-sticky"!=i.position||(e.style.position="static");var o=e.parentNode,c=l&&o instanceof ShadowRoot?o.host:o,u=e.getBoundingClientRect(),h=c.getBoundingClientRect(),m=getComputedStyle(c);this._parent={node:c,styles:{position:c.style.position},offsetHeight:c.offsetHeight},this._offsetToWindow={left:u.left,right:n.documentElement.clientWidth-u.right},this._offsetToParent={top:u.top-h.top-p(m.borderTopWidth),left:u.left-h.left-p(m.borderLeftWidth),right:-u.right+h.right-p(m.borderRightWidth)},this._styles={position:a,top:e.style.top,bottom:e.style.bottom,left:e.style.left,right:e.style.right,width:e.style.width,marginTop:e.style.marginTop,marginLeft:e.style.marginLeft,marginRight:e.style.marginRight};var f=p(r.top);this._limits={start:u.top+t.pageYOffset-f,end:h.top+t.pageYOffset+c.offsetHeight-p(m.borderBottomWidth)-e.offsetHeight-f-p(r.marginBottom)};var g=m.position;"absolute"!=g&&"relative"!=g&&(c.style.position="relative"),this._recalcPosition();var v=this._clone={};v.node=n.createElement("div"),d(v.node.style,{width:u.right-u.left+"px",height:u.bottom-u.top+"px",marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),o.insertBefore(v.node,e),v.docOffsetTop=b(v.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var e=c.top<=this._limits.start?"start":c.top>=this._limits.end?"end":"middle";if(this._stickyMode!=e){switch(e){case"start":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":d(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=e}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(b(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,d(this._node.style,this._styles),delete this._styles,u.some((function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node}))||d(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var e=this;this._deactivate(),u.some((function(t,n){if(t._node===e._node)return u.splice(n,1),!0})),this._removed=!0}}]),e}(),m={stickies:u,Sticky:h,forceSticky:function(){s=!1,f(),this.refreshAll()},addOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}for(var t=0;t<u.length;t++)if(u[t]._node===e)return u[t];return new h(e)},add:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length){for(var t=[],n=function(n){var i=e[n];return i instanceof HTMLElement?u.some((function(e){if(e._node===i)return t.push(e),!0}))?"continue":void t.push(new h(i)):(t.push(void 0),"continue")},i=0;i<e.length;i++)n(i);return t}},refreshAll:function(){u.forEach((function(e){return e.refresh()}))},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}u.some((function(t){if(t._node===e)return t.remove(),!0}))},remove:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length)for(var t=function(t){var n=e[t];u.some((function(e){if(e._node===n)return e.remove(),!0}))},n=0;n<e.length;n++)t(n)},removeAll:function(){for(;u.length;)u[0].remove()}};function f(){if(!o){o=!0,s(),t.addEventListener("scroll",s),t.addEventListener("resize",m.refreshAll),t.addEventListener("orientationchange",m.refreshAll);var e=void 0,i=void 0,r=void 0;"hidden"in n?(i="hidden",r="visibilitychange"):"webkitHidden"in n&&(i="webkitHidden",r="webkitvisibilitychange"),r?(n[i]||a(),n.addEventListener(r,(function(){n[i]?clearInterval(e):a()}))):a()}function s(){t.pageXOffset!=c.left?(c.top=t.pageYOffset,c.left=t.pageXOffset,m.refreshAll()):t.pageYOffset!=c.top&&(c.top=t.pageYOffset,c.left=t.pageXOffset,u.forEach((function(e){return e._recalcPosition()})))}function a(){e=setInterval((function(){u.forEach((function(e){return e._fastCheck()}))}),500)}}s||f(),e.exports?e.exports=m:a&&(t.Stickyfill=m)}(window,document)},661:function(e,t,n){"use strict";n(35),n(72);var i=n(301),r=n(553),s=n(828),a=n(1),o=n(471),l=n(198),c=n(236),u={components:{CiIconBadge:o.a,TimeagoTooltip:l.a,UserAvatarImage:c.a,GlLink:i.a,GlButton:r.a},directives:{GlTooltip:s.a},props:{status:{type:Object,required:!0},itemName:{type:String,required:!0},itemId:{type:Number,required:!0},time:{type:String,required:!0},user:{type:Object,required:!1,default:function(){return{}}},hasSidebarButton:{type:Boolean,required:!1,default:!1},shouldRenderTriggeredLabel:{type:Boolean,required:!1,default:!0}},computed:{userAvatarAltText:function(){return Object(a.e)(Object(a.a)("%{username}'s avatar"),{username:this.user.name})}},methods:{onClickSidebarButton:function(){this.$emit("clickedSidebarButton")}}},d=n(4),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"page-content-header ci-header-container"},[n("section",{staticClass:"header-main-content"},[n("ci-icon-badge",{attrs:{status:e.status}}),e._v(" "),n("strong",[e._v(" "+e._s(e.itemName)+" #"+e._s(e.itemId)+" ")]),e._v(" "),e.shouldRenderTriggeredLabel?[e._v(e._s(e.__("triggered")))]:[e._v(e._s(e.__("created")))],e._v(" "),n("timeago-tooltip",{attrs:{time:e.time}}),e._v("\n\n      "+e._s(e.__("by"))+"\n\n      "),e.user?[n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-link commit-committer-link",attrs:{href:e.user.path,title:e.user.email}},[n("user-avatar-image",{attrs:{"img-src":e.user.avatar_url,"img-alt":e.userAvatarAltText,"tooltip-text":e.user.name,"img-size":24}}),e._v("\n\n          "+e._s(e.user.name)+"\n        ")],1),e._v(" "),e.user.status_tooltip_html?n("span",{domProps:{innerHTML:e._s(e.user.status_tooltip_html)}}):e._e()]:e._e()],2),e._v(" "),e.$slots.default?n("section",{staticClass:"header-action-buttons"},[e._t("default")],2):e._e(),e._v(" "),e.hasSidebarButton?n("gl-button",{staticClass:"d-block d-sm-none\nsidebar-toggle-btn js-sidebar-build-toggle js-sidebar-build-toggle-header",attrs:{id:"toggleSidebar"},on:{click:e.onClickSidebarButton}},[n("i",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true","aria-labelledby":"toggleSidebar"}})]):e._e()],1)}),[],!1,null,null,null);t.a=p.exports},680:function(e,t,n){var i=n(391),r=n(438),s=n(787),a=n(836).UNSUPPORTED_Y;i&&("g"!=/./g.flags||a)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:s})},73:function(e,t,n){"use strict";n(30),n(35),n(18),n(64);var i=n(0),r=n.n(i),s=n(32),a=(n(65),n(69),n(55),n(67),n(71));function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=r()(t),this.newItemBtn=r()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,i,s;return t=e,(i=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(239).then(n.t.bind(null,428,7)).then((function(){r()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&o(t.prototype,i),s&&o(t,s),e}(),c=n(1),u=function(){r()(".ajax-project-select").each((function(e,t){var n,i=this,a=r()(t).data("simpleFilter")||!1,o=r()(t).data("select2");return this.groupId=r()(t).data("groupId"),this.userId=r()(t).data("userId"),this.includeGroups=r()(t).data("includeGroups"),this.allProjects=r()(t).data("allProjects")||!1,this.orderBy=r()(t).data("orderBy")||"id",this.withIssuesEnabled=r()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=r()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===r()(t).data("withShared")||r()(t).data("withShared"),this.includeProjectsInSubgroups=r()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=r()(t).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),r()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=i.includeGroups?function(t){return s.a.groups(e.term,{},(function(e){var i=e.concat(t);return n(i)}))}:n,i.groupId?s.a.groupProjects(i.groupId,e.term,{with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,with_shared:i.withShared,include_subgroups:i.includeProjectsInSubgroups},t):i.userId?s.a.userProjects(i.userId,e.term,{with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,with_shared:i.withShared,include_subgroups:i.includeProjectsInSubgroups},t):s.a.projects(e.term,{order_by:i.orderBy,with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,membership:!i.allProjects},t)},id:function(e){return a?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return s.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),o||a?t:new l(t)}))};t.a=function(){return n.e(239).then(n.t.bind(null,428,7)).then(u).catch((function(){}))}},99:function(e,t,n){"use strict";var i=n(0),r=n.n(i);n(358);t.a={bind:function(e){var t=localStorage.getItem("gl-tooltip-delay"),n=t?JSON.parse(t):0;r()(e).tooltip({trigger:"hover",delay:n})},componentUpdated:function(e){r()(e).tooltip("_fixTitle");var t=r()(e).data("bs.tooltip"),n=t.getTipElement();t.setElementContent(r()(n.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){r()(e).tooltip("dispose")}}}},[[2345,1,0,2,12]]]);
//# sourceMappingURL=pages.projects.jobs.show.d3ac85e8.chunk.js.map