(this.webpackJsonp=this.webpackJsonp||[]).push([[217],{113:function(e,t,n){"use strict";n.r(t);var r=n(88),a=n(70),i=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(i.a)(document,gon),new r.a,new a.a}))},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n(42),n(26),n(77),n(38),n(27);var r=n(0),a=n.n(r),i=n(157),o=n.n(i),s=n(164),c=(n(28),n(85),n(46),n(55),n(91),n(67),n(233),n(94)),u=n.n(c),l=n(20),d=n.n(l);n(441),n(24),n(49),n(56),n(78),n(104),n(40),n(65),n(145),n(18),n(68),n(122),n(36),n(89),n(41);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.columnWidths=[],this.rows=[],this.tableFound=this.parseTable()}var t,n,r;return t=e,(n=[{key:"isTable",value:function(){return this.tableFound}},{key:"convertToTableMarkdown",value:function(){var e=this;this.calculateColumnWidths();var t=this.rows.map((function(t){return"| ".concat(t.map((function(t,n){return e.formatColumn(t,n)})).join(" | ")," |")}));return t.splice(1,0,this.generateHeaderBreak()),t.join("\n")}},{key:"parseTable",value:function(){if(!this.data.types.includes("text/html")||!this.data.types.includes("text/plain"))return!1;var e=this.data.getData("text/html");if(this.doc=(new DOMParser).parseFromString(e,"text/html"),1!==this.doc.querySelectorAll("table").length)return!1;var t=this.data.getData("text/plain").trim().split(/[\n\u0085\u2028\u2029]|\r\n?/g);return this.doc.querySelectorAll("tr").length===t.length&&(this.rows=t.map((function(e){return e.split("\t")})),this.normalizeRows(),!!this.columnCountsMatch())}},{key:"normalizeRows",value:function(){var e=this.rows.map((function(e){return e.length})),t=Math.max.apply(Math,h(e));this.rows.forEach((function(e){for(;e.length<t;)e.push("")}))}},{key:"calculateColumnWidths",value:function(){var e=this;this.columnWidths=this.rows[0].map((function(t,n){return function(e,t){return Math.max.apply(Math,h(e.map((function(e){return e[t].length}))))}(e.rows,n)}))}},{key:"columnCountsMatch",value:function(){var e=this.rows[0].length,t=0;return this.doc.querySelectorAll("table tr").forEach((function(e){t=Math.max(e.cells.length,t)})),e===t}},{key:"formatColumn",value:function(e,t){return e+Array(this.columnWidths[t]-e.length+1).join(" ")}},{key:"generateHeaderBreak",value:function(){var e=this,t=this.columnWidths.map((function(t,n){return Array(e.columnWidths[n]+3).join("-")}));return"|".concat(t.join("|"),"|")}}])&&f(t.prototype,n),r&&f(t,r),e}(),m=n(178),v=n(11),g=n(1);function b(e){return!e||d.a.isString(e)?e:e.message}function y(e){var t,n,r,i,o,s,c,l=e.find(".button-attach-file"),f=e.find(".attaching-file-message"),h=e.find(".button-cancel-uploading-files"),y=e.find(".retry-uploading-link"),w=e.find(".uploading-progress"),j=e.find(".uploading-error-container"),k=e.find(".uploading-error-message"),S=e.find(".uploading-progress-container"),x=e.data("uploads-path")||window.uploads_path||null,_=gon.max_file_size||10,C=e.find(".js-gfm-input");C.wrap('<div class="div-dropzone"></div>'),C.on("paste",(function(e){return t(e)}));var O=C.closest(".md-area");e.setupMarkdownPreview();var T=e.find(".div-dropzone");if(T.parent().addClass("div-dropzone-wrapper"),T.append('<div class="div-dropzone-hover"></div>'),T.find(".div-dropzone-hover").append('<i class="fa fa-paperclip div-dropzone-icon"></i>'),!x)return T.addClass("js-invalid-dropzone"),null;var E=T.dropzone({url:x,dictDefaultMessage:"",clickable:!0,paramName:"file",maxFilesize:_,uploadMultiple:!1,headers:m.a.headers,previewContainer:!1,processing:function(){return a()(".div-dropzone-alert").alert("close")},dragover:function(){O.addClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",.7)},dragleave:function(){O.removeClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",0)},drop:function(){O.removeClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",0),C.focus()},success:function(e,t){var a=this.getQueuedFiles().length+this.getUploadingFiles().length,i=a>=1;n(t.link.markdown,i),a||l.removeClass("hide"),r(t.link.url)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(g.a)("Attaching the file failed."),n=arguments.length>2?arguments[2]:void 0,r=b(t||n.responseText);j.removeClass("hide"),k.html(r),l.addClass("hide"),h.addClass("hide")},totaluploadprogress:function(e){i(this.files,f),w.text("".concat(Math.round(e),"%"))},sending:function(){l.addClass("hide"),j.addClass("hide"),S.removeClass("hide"),h.removeClass("hide")},removedfile:function(){l.removeClass("hide"),h.addClass("hide"),S.addClass("hide"),j.addClass("hide")},queuecomplete:function(){a()(".dz-preview").remove(),a()(".markdown-area").trigger("input"),S.addClass("hide"),h.addClass("hide")}}),I=a()(E[0]).children("textarea");h.on("click",(function(e){e.preventDefault(),e.stopPropagation(),u.a.forElement(T.get(0)).removeAllFiles(!0)})),y.on("click",(function(e){var t=u.a.forElement(e.target.closest(".js-main-target-form").querySelector(".div-dropzone")),n=t.files;e.preventDefault(),t.removeAllFiles(!0),n.map((function(e){var n=e;return n.status===u.a.ERROR&&(n.status=void 0,n.accepted=void 0),t.addFile(n)}))})),t=function(e){var t=e.originalEvent,r=t.clipboardData;if(r&&r.items){var a=new p(r);if(a.isTable()){e.preventDefault();var i=a.convertToTableMarkdown();n(i)}else{var u=o(t);if(u){e.preventDefault();var l=s(t)||"image.png",d="{{".concat(l,"}}");return n(d),c(u.getAsFile(),l)}}}},o=function(e){for(var t=0;t<e.clipboardData.items.length;){var n=e.clipboardData.items[t];if(-1!==n.type.indexOf("image"))return n;t+=1}return!1},n=function(e,t){var n=e;t&&(n+="\n\n");var r=I.get(0),i=r.selectionStart,o=r.selectionEnd,s=a()(I).val().length,c=a()(I).val().substring(0,i),u=a()(I).val().substring(o,s);return a()(I).val(c+n+u),r.setSelectionRange(i+n.length,o+n.length),r.style.height="".concat(r.scrollHeight,"px"),C.get(0).dispatchEvent(new Event("input")),C.trigger("input")},r=function(t){a()(e).append('<input type="hidden" name="files[]" value="'.concat(d.a.escape(t),'">'))},s=function(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),(t=t.split("\r"))[0]};var D=function(){return S.addClass("hide")};return c=function(t,n){var r=new FormData;r.append("file",t,n),S.removeClass("hide"),e.find(".div-dropzone-alert").alert("close"),v.a.post(x,r).then((function(e){var t=e.data.link.markdown;!function(e,t){var n=a()(I),r=n.get(0),i=r.selectionStart,o=r.selectionEnd,s="{{".concat(e,"}}");n.val((function(e,n){return n.replace(s,t)})),r.setSelectionRange(i-s.length+t.length,o-s.length+t.length),n.trigger("change")}(n,t),D()})).catch((function(e){var t;t=e.response.data.message,j.removeClass("hide"),k.html(t),D()}))},i=function(e,t){var n=e.filter((function(e){return"uploading"===e.status||"queued"===e.status})).length,r=Object(g.c)("Attaching a file","Attaching %d files",n);t.text("".concat(r," -"))},e.find(".markdown-selector").click((function(e){e.preventDefault(),a()(this).closest(".gfm-form").find(".div-dropzone").click(),C.focus()})),T.get(0)?u.a.forElement(T.get(0)):null}u.a.autoDiscover=!1;var w=n(199);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.textarea=this.form.find("textarea.js-gfm-input"),this.enableGFM=Object.assign({},s.b,r);var a=gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources||{};Object.keys(this.enableGFM).forEach((function(e){"emojis"!==e&&(n.enableGFM[e]=Boolean(a[e]))})),this.destroy(),this.setupForm(),this.form.data("glForm",this)}var t,n,r;return t=e,(n=[{key:"destroy",value:function(){this.clearEventListeners(),this.autoComplete&&this.autoComplete.destroy(),this.form.data("glForm",null)}},{key:"setupForm",value:function(){var e=this.form.is(":not(.gfm-form)");this.form.removeClass("js-new-note-form"),e&&(this.form.find(".div-dropzone").remove(),this.form.addClass("gfm-form"),gl.utils.disableButtonIfEmptyField(this.form.find(".js-note-text"),this.form.find(".js-comment-button, .js-note-new-discussion")),this.autoComplete=new s.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources),this.autoComplete.setup(this.form.find(".js-gfm-input"),this.enableGFM),y(this.form),o()(this.textarea)),this.addEventListeners(),Object(w.b)(this.form),this.form.show(),this.isAutosizeable&&this.setupAutosize()}},{key:"setupAutosize",value:function(){var e=this;this.textarea.off("autosize:resized").on("autosize:resized",this.setHeightData.bind(this)),this.textarea.off("mouseup.autosize").on("mouseup.autosize",this.destroyAutosize.bind(this)),setTimeout((function(){o()(e.textarea),e.textarea.css("resize","vertical")}),0)}},{key:"setHeightData",value:function(){this.textarea.data("height",this.textarea.outerHeight())}},{key:"destroyAutosize",value:function(){var e=this.textarea.outerHeight();this.textarea.data("height")!==e&&(o.a.destroy(this.textarea),this.textarea.data("height",e),this.textarea.outerHeight(e),this.textarea.css("max-height",window.outerHeight))}},{key:"clearEventListeners",value:function(){this.textarea.off("focus"),this.textarea.off("blur"),Object(w.c)(this.form)}},{key:"addEventListeners",value:function(){this.textarea.on("focus",(function(){a()(this).closest(".md-area").addClass("is-focused")})),this.textarea.on("blur",(function(){a()(this).closest(".md-area").removeClass("is-focused")}))}}])&&j(t.prototype,n),r&&j(t,r),e}()},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(42);var r=n(0),a=n.n(r),i=(n(439),n(94)),o=n.n(i),s=n(8),c=n.n(s);n(440);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.a.autoDiscover=!1;var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.active_backdrop=null,this.active_textarea=null,a()(document).on("click",".js-zen-enter",(function(e){return e.preventDefault(),a()(e.currentTarget).trigger("zen_mode:enter")})),a()(document).on("click",".js-zen-leave",(function(e){return e.preventDefault(),a()(e.currentTarget).trigger("zen_mode:leave")})),a()(document).on("zen_mode:enter",(function(e){t.enter(a()(e.target).closest(".md-area").find(".zen-backdrop"))})),a()(document).on("zen_mode:leave",(function(){t.exit()})),a()(document).on("keydown",(function(e){if(27===e.keyCode)return e.preventDefault(),a()(document).trigger("zen_mode:leave")}))}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){c.a.pause(),this.active_backdrop=a()(e),this.active_backdrop.addClass("fullscreen"),this.active_textarea=this.active_backdrop.find("textarea"),this.active_textarea.removeAttr("style"),this.active_textarea.focus()}},{key:"exit",value:function(){if(this.active_textarea){c.a.unpause(),this.active_textarea.closest(".zen-backdrop").removeClass("fullscreen"),this.scrollTo(this.active_textarea),this.active_textarea=null,this.active_backdrop=null;var e=a()(".div-dropzone");e&&!e.hasClass("js-invalid-dropzone")&&o.a.forElement(".div-dropzone").enable()}}},{key:"scrollTo",value:function(e){return a.a.scrollTo(e,0,{offset:-150})}}])&&u(t.prototype,n),r&&u(t,r),e}()},233:function(e,t,n){"use strict";var r=n(108),a=n(348);r({target:"String",proto:!0,forced:n(349)("link")},{link:function(e){return a(this,"a","href",e)}})},2438:function(e,t,n){n(105),n(113),e.exports=n(2479)},2479:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(17),o=n(177),s=n(178),c=(n(24),n(49),n(56),n(40),n(90),n(18),n(36),n(41),n(8)),u=n.n(c),l=n(70),d=n(9);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=p(this,m(t).call(this)),u.a.bind("e",t.editWiki),e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,a=[{key:"editWiki",value:function(){Object(d.a)(".js-wiki-edit")}}],(r=null)&&h(n.prototype,r),a&&h(n,a),t}(l.a),b=(n(55),n(91),n(222)),y=n(1);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j={markdown:"[Link Title](page-slug)",rdoc:"{Link title}[link:page-slug]",asciidoc:"link:page-slug[Link title]",org:"[[page-slug]]"},k=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sidebarEl=document.querySelector(".js-wiki-sidebar"),this.sidebarExpanded=!1;for(var n=document.querySelectorAll(".js-sidebar-wiki-toggle"),r=0;r<n.length;r+=1)n[r].addEventListener("click",(function(e){return t.handleToggleSidebar(e)}));this.isNewWikiPage=Boolean(document.querySelector(".js-new-wiki-page")),this.editTitleInput=document.querySelector("form.wiki-form #wiki_title"),this.commitMessageInput=document.querySelector("form.wiki-form #wiki_message"),this.commitMessageI18n=this.isNewWikiPage?Object(y.d)("WikiPageCreate|Create %{pageTitle}"):Object(y.d)("WikiPageEdit|Update %{pageTitle}"),this.editTitleInput&&(this.editTitleInput.value&&this.setWikiCommitMessage(this.editTitleInput.value),this.editTitleInput.addEventListener("keyup",(function(e){return t.handleWikiTitleChange(e)}))),window.addEventListener("resize",(function(){return t.renderSidebar()})),this.renderSidebar();var a=document.querySelector("#wiki_format"),i=document.querySelector(".js-markup-link-example");a&&a.addEventListener("change",(function(e){i.innerHTML=j[e.target.value]}))}var t,n,r;return t=e,r=[{key:"sidebarCanCollapse",value:function(){var e=b.b.getBreakpointSize();return"xs"===e||"sm"===e}}],(n=[{key:"handleWikiTitleChange",value:function(e){this.setWikiCommitMessage(e.target.value)}},{key:"setWikiCommitMessage",value:function(e){var t=e;t&&(t=t.replace(/-+/g," "));var n=Object(y.e)(this.commitMessageI18n,{pageTitle:t},!1);this.commitMessageInput.value=n}},{key:"handleToggleSidebar",value:function(e){e.preventDefault(),this.sidebarExpanded=!this.sidebarExpanded,this.renderSidebar()}},{key:"renderSidebar",value:function(){if(this.sidebarEl){var t=this.sidebarEl.classList;this.sidebarExpanded||!e.sidebarCanCollapse()?t.contains("right-sidebar-expanded")||(t.remove("right-sidebar-collapsed"),t.add("right-sidebar-expanded")):t.contains("right-sidebar-expanded")&&(t.add("right-sidebar-collapsed"),t.remove("right-sidebar-expanded"))}}}])&&w(t.prototype,n),r&&w(t,r),e}(),S=n(218),x=n(208),_=n(93),C=n.n(_),O=n(2535),T=n(2536),E={components:{GlModal:O.a},directives:{"gl-modal":T.a},props:{deleteWikiUrl:{type:String,required:!0,default:""},pageTitle:{type:String,required:!0,default:""},csrfToken:{type:String,required:!0,default:""}},computed:{modalId:function(){return"delete-wiki-modal"},message:function(){return Object(y.d)("WikiPageConfirmDelete|Are you sure you want to delete this page?")},title:function(){return Object(y.e)(Object(y.d)("WikiPageConfirmDelete|Delete page %{pageTitle}?"),{pageTitle:C()(this.pageTitle)},!1)}},methods:{onSubmit:function(){this.$refs.form.submit()}}},I=n(4),D=Object(I.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-inline-block"},[n("button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.modalId,expression:"modalId"}],staticClass:"btn btn-danger",attrs:{type:"button"}},[e._v(e._s(e.__("Delete")))]),e._v(" "),n("gl-modal",{attrs:{title:e.title,"ok-title":e.s__("WikiPageConfirmDelete|Delete page"),"modal-id":e.modalId,"title-tag":"h4","ok-variant":"danger"},on:{ok:e.onSubmit}},[e._v("\n    "+e._s(e.message)+"\n    "),n("form",{ref:"form",staticClass:"js-requires-input",attrs:{action:e.deleteWikiUrl,method:"post"}},[n("input",{ref:"method",attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),n("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.csrfToken}})])])],1)}),[],!1,null,null,null).exports;document.addEventListener("DOMContentLoaded",(function(){new k,new g,new S.a,new x.a(a()(".wiki-form"));var e=document.getElementById("delete-wiki-modal-wrapper");if(e){i.default.use(o.a);var t=e.dataset,n=t.deleteWikiUrl,r=t.pageTitle;new i.default({el:e,data:{deleteWikiUrl:""},render:function(e){return e(D,{props:{pageTitle:r,deleteWikiUrl:n,csrfToken:s.a.token}})}})}}))},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(24),n(49),n(56),n(40),n(90),n(18),n(36),n(41);var r=n(8),a=n.n(r),i=n(9);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=s(this,c(t).call(this)),a.a.bind("g p",(function(){return Object(i.a)(".shortcuts-project")})),a.a.bind("g v",(function(){return Object(i.a)(".shortcuts-project-activity")})),a.a.bind("g r",(function(){return Object(i.a)(".shortcuts-project-releases")})),a.a.bind("g f",(function(){return Object(i.a)(".shortcuts-tree")})),a.a.bind("g c",(function(){return Object(i.a)(".shortcuts-commits")})),a.a.bind("g j",(function(){return Object(i.a)(".shortcuts-builds")})),a.a.bind("g n",(function(){return Object(i.a)(".shortcuts-network")})),a.a.bind("g d",(function(){return Object(i.a)(".shortcuts-repository-charts")})),a.a.bind("g i",(function(){return Object(i.a)(".shortcuts-issues")})),a.a.bind("g b",(function(){return Object(i.a)(".shortcuts-issue-boards")})),a.a.bind("g m",(function(){return Object(i.a)(".shortcuts-merge_requests")})),a.a.bind("g w",(function(){return Object(i.a)(".shortcuts-wiki")})),a.a.bind("g s",(function(){return Object(i.a)(".shortcuts-snippets")})),a.a.bind("g k",(function(){return Object(i.a)(".shortcuts-kubernetes")})),a.a.bind("g e",(function(){return Object(i.a)(".shortcuts-environments")})),a.a.bind("g l",(function(){return Object(i.a)(".shortcuts-metrics")})),a.a.bind("i",(function(){return Object(i.a)(".shortcuts-new-issue")})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),t}(n(107).a)},73:function(e,t,n){"use strict";n(30),n(35),n(18),n(64);var r=n(0),a=n.n(r),i=n(32),o=(n(65),n(69),n(55),n(67),n(71));function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=a()(t),this.newItemBtn=a()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,r,i;return t=e,(r=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(239).then(n.t.bind(null,428,7)).then((function(){a()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(t.prototype,r),i&&s(t,i),e}(),u=n(1),l=function(){a()(".ajax-project-select").each((function(e,t){var n,r=this,o=a()(t).data("simpleFilter")||!1,s=a()(t).data("select2");return this.groupId=a()(t).data("groupId"),this.userId=a()(t).data("userId"),this.includeGroups=a()(t).data("includeGroups"),this.allProjects=a()(t).data("allProjects")||!1,this.orderBy=a()(t).data("orderBy")||"id",this.withIssuesEnabled=a()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=a()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===a()(t).data("withShared")||a()(t).data("withShared"),this.includeProjectsInSubgroups=a()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=a()(t).data("allowClear")||!1,n=Object(u.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(u.d)("ProjectSelect| or group")),a()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=r.includeGroups?function(t){return i.a.groups(e.term,{},(function(e){var r=e.concat(t);return n(r)}))}:n,r.groupId?i.a.groupProjects(r.groupId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):r.userId?i.a.userProjects(r.userId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):i.a.projects(e.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},t)},id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return i.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||o?t:new c(t)}))};t.a=function(){return n.e(239).then(n.t.bind(null,428,7)).then(l).catch((function(){}))}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(42),n(89);var r=n(0),a=n.n(r),i=n(51),o=n.n(i),s=n(1),c=n(33);n(28),n(78),n(40),n(46),n(129),n(35),n(77),n(18),n(36),n(41);var u=function(e){return e.reduce((function(e,t){var n=t.name,r=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))}),{})},l=n(11),d=n(14),f=n(73);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=a()("ul.clone-options-dropdown"),n=a()("#project_clone"),r=a()(".js-git-clone-holder .js-clone-dropdown-label"),i=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=r.text().trim();s.length>0&&a()("a:contains('".concat(s,"')"),t).addClass("is-active"),a()("a",t).on("click",(function(e){e.preventDefault();var r=a()(e.currentTarget),o=r.attr("href"),s=r.data("cloneType");a()(".is-active",t).removeClass("is-active"),a()('a[data-clone-type="'.concat(s,'"]')).each((function(){var e=a()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),i?i.dataset.clipboardText=o:n.val(o),a()(".js-git-empty .js-clone").text(o)})),e.initRefSwitcher(),a()(".project-refs-select").on("change",(function(){return a()(this).parents("form").submit()})),a()(".hide-no-ssh-message").on("click",(function(e){return o.a.set("hide_no_ssh_message","false"),a()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),a()(".hide-no-password-message").on("click",(function(e){return o.a.set("hide_no_password_message","false"),a()(this).parents(".no-password-message").remove(),e.preventDefault()})),a()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=a()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return o.a.set(n,"false"),a()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,r;return t=e,r=[{key:"projectSelectDropdown",value:function(){Object(f.a)(),a()(".project-item-select").on("click",(function(t){return e.changeProject(a()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",a()(".js-project-refs-dropdown").each((function(){var n,r,i,o=a()(this),f=o.data("selected"),h=o.data("fieldName"),p=Boolean(o.data("visit")),m=o.closest("form"),v=m.attr("action"),g=Object(c.h)((n=m[0],r=new FormData(n),i=Array.from(r.keys()).map((function(e){var t=r.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),u(i)),v);return o.glDropdown({data:function(e,t){l.a.get(o.data("refsUrl"),{params:{ref:o.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(d.a)(Object(s.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:o.data("inputFieldName"),fieldName:h,renderRow:function(n){var r,a,i,o=e.cloneNode(!1),s=t.cloneNode(!1);return n===f&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&p&&(s.href=Object(c.h)((i=n,(a=h)in(r={})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r),g)),o.appendChild(s),o},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;p||t.preventDefault()}})}))}}],(n=null)&&h(t.prototype,n),r&&h(t,r),e}()}},[[2438,1,0,2,3]]]);
//# sourceMappingURL=pages.projects.wikis.f6dc76f5.chunk.js.map