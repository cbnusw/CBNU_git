(this.webpackJsonp=this.webpackJsonp||[]).push([[17],{1049:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a(17),s=a(485),n=a(16);var r=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=document.getElementById("issuable-time-tracker");if(e){var a=e.dataset,r=a.timeEstimate,o=a.timeSpent,l=a.humanTimeEstimate,d=a.humanTimeSpent,c=a.limitToHours;new i.default({el:e,components:{timeTracker:s.a},render:function(t){return t("timeTracker",{props:{timeEstimate:parseInt(r,10),timeSpent:parseInt(o,10),humanTimeEstimate:l,humanTimeSpent:d,limitToHours:Object(n.F)(c),rootPath:"/"}})}})}}},135:function(t,e,a){"use strict";var i=new(a(17).default);window.emitSidebarEvent=function(){return i.$emit.apply(i,arguments)},e.a=i},376:function(t,e,a){"use strict";a(42);var i=a(0),s=a.n(i),n=a(20),r=a.n(n),o=a(51),l=a.n(o),d=a(14),c=a(11),m=a(1);function u(){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=s()("aside"),this.removeListeners(),this.addEventListeners()}u.initialize=function(){this.instance||(this.instance=new u)},u.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),s()(".dropdown").off("loading.gl.dropdown"),s()(".dropdown").off("loaded.gl.dropdown"),s()(document).off("click",".js-sidebar-toggle")},u.prototype.addEventListeners=function(){var t=s()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),t.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),s()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},u.prototype.sidebarToggleClicked=function(t,e){var a=s()(this),i=a.find("i").hasClass("fa-angle-double-right"),n=i?Object(m.a)("Expand sidebar"):Object(m.a)("Collapse sidebar"),r=s()(".js-sidebar-toggle i");t.preventDefault(),i?(r.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),s()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),s()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(r.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),s()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),s()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),a.attr("data-original-title",n),e||l.a.set("collapsed_gutter",s()(".right-sidebar").hasClass("right-sidebar-collapsed"))},u.prototype.toggleTodo=function(t){var e=this,a=s()(t.currentTarget),i=a.data("deletePath")?"delete":"post",n=String(a.data("deletePath")||a.data("createPath"));a.tooltip("hide"),s()(".js-issuable-todo").disable().addClass("is-loading"),c.a[i](n,{issuable_id:a.data("issuableId"),issuable_type:a.data("issuableType")}).then((function(t){var a=t.data;e.todoUpdateDone(a)})).catch((function(){return Object(d.a)(Object(m.e)(Object(m.a)("There was an error %{message} todo."),{message:"post"===i?Object(m.d)("RightSidebar|adding a"):Object(m.d)("RightSidebar|deleting the")}))}))},u.prototype.todoUpdateDone=function(t){var e=t.delete_path?t.delete_path:null,a=e?"mark":"todo",i=s()(".js-issuable-todo");s()(document).trigger("todo:toggle",t.count),i.each((function(t,i){var n=s()(i),r=n.find(".js-issuable-todo-inner");n.removeClass("is-loading").enable().attr("aria-label",n.data("".concat(a,"Text"))).attr("title",n.data("".concat(a,"Text"))).data("deletePath",e),n.hasClass("has-tooltip")&&n.tooltip("_fixTitle"),void 0!==n.data("isCollapsed")?r.html(n.data("".concat(a,"Icon"))):r.text(n.data("".concat(a,"Text")))}))},u.prototype.sidebarCollapseClicked=function(t){if(!s()(t.currentTarget).hasClass("dont-change-state")){var e=t.data;t.preventDefault();var a=s()(this).closest(".block");return e.openDropdown(a)}},u.prototype.openDropdown=function(t){var e=r.a.isString(t)?this.getBlock(t):t;this.isOpen()||(this.setCollapseAfterUpdate(e),this.toggleSidebar("open")),setTimeout((function(){e.find(".js-sidebar-dropdown-toggle").trigger("click")}))},u.prototype.setCollapseAfterUpdate=function(t){return t.addClass("collapse-after-update"),s()(".layout-page").addClass("with-overlay")},u.prototype.onSidebarDropdownHidden=function(t){var e=t.data;t.preventDefault();var a=s()(t.target).closest(".block");return e.sidebarDropdownHidden(a)},u.prototype.sidebarDropdownHidden=function(t){if(t.hasClass("collapse-after-update"))return t.removeClass("collapse-after-update"),s()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},u.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},u.prototype.toggleSidebar=function(t){if(null==t&&(t="toggle"),"toggle"===t&&this.triggerOpenSidebar(),"open"===t&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===t&&this.isOpen())return this.triggerOpenSidebar()},u.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},u.prototype.getBlock=function(t){return this.sidebar.find(".block.".concat(t))},e.a=u},485:function(t,e,a){"use strict";a(72);var i=a(1),s={name:"TimeTrackingHelpState",props:{rootPath:{type:String,required:!0}},computed:{href:function(){return"".concat(this.rootPath,"help/workflow/time_tracking.md")},estimateText:function(){return Object(i.e)(Object(i.d)("estimateCommand|%{slash_command} will update the estimated time with the latest command."),{slash_command:"<code>/estimate</code>"},!1)},spendText:function(){return Object(i.e)(Object(i.d)("spendCommand|%{slash_command} will update the sum of the time spent."),{slash_command:"<code>/spend</code>"},!1)}}},n=a(4),r=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-tracking-help-state"},[a("div",{staticClass:"time-tracking-info"},[a("h4",[t._v(t._s(t.__("Track time with quick actions")))]),t._v(" "),a("p",[t._v(t._s(t.__("Quick actions can be used in the issues description and comment boxes.")))]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.estimateText)}}),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.spendText)}}),t._v(" "),a("a",{staticClass:"btn btn-default learn-more-button",attrs:{href:t.href}},[t._v(" "+t._s(t.__("Learn more"))+" ")])])])}),[],!1,null,null,null).exports,o=(a(30),a(45)),l=a(99),d={name:"TimeTrackingCollapsedState",components:{icon:o.a},directives:{tooltip:l.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{divClass:function(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass:function(){return this.showComparisonState?"":this.showEstimateOnlyState||this.showSpentOnlyState?"bold":this.showNoTimeTrackingState?"no-value":""},text:function(){return this.showComparisonState?"".concat(this.timeSpentHumanReadable," / ").concat(this.timeEstimateHumanReadable):this.showEstimateOnlyState?"-- / ".concat(this.timeEstimateHumanReadable):this.showSpentOnlyState?"".concat(this.timeSpentHumanReadable," / --"):this.showNoTimeTrackingState?Object(i.a)("None"):""},timeTrackedTooltipText:function(){var t;return this.showComparisonState?t=Object(i.a)("Time remaining"):this.showEstimateOnlyState?t=Object(i.a)("Estimated"):this.showSpentOnlyState&&(t=Object(i.a)("Time spent")),Object(i.e)("%{title}: %{text}",{title:t,text:this.text})},tooltipText:function(){return this.showNoTimeTrackingState?Object(i.a)("Time tracking"):this.timeTrackedTooltipText}}},c=Object(n.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e("icon",{attrs:{name:"timer"}}),this._v(" "),e("div",{staticClass:"time-tracking-collapsed-summary"},[e("div",{class:this.divClass},[e("span",{class:this.spanClass},[this._v(" "+this._s(this.text)+" ")])])])],1)}),[],!1,null,null,null).exports,m={name:"TimeTrackingSpentOnlyPane",props:{timeSpentHumanReadable:{type:String,required:!0}},computed:{timeSpent:function(){return Object(i.e)(Object(i.d)("TimeTracking|%{startTag}Spent: %{endTag}%{timeSpentHumanReadable}"),{startTag:'<span class="bold">',endTag:"</span>",timeSpentHumanReadable:this.timeSpentHumanReadable},!1)}}},u=Object(n.a)(m,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"time-tracking-spend-only-pane",domProps:{innerHTML:this._s(this.timeSpent)}})}),[],!1,null,null,null).exports,p={name:"TimeTrackingNoTrackingPane"},h=Object(n.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"time-tracking-no-tracking-pane"},[e("span",{staticClass:"no-value"},[this._v(" "+this._s(this.__("No estimate or time spent"))+" ")])])}),[],!1,null,null,null).exports,g={name:"TimeTrackingEstimateOnlyPane",props:{timeEstimateHumanReadable:{type:String,required:!0}}},b=Object(n.a)(g,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"time-tracking-estimate-only-pane"},[e("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("TimeTracking|Estimated:"))+" ")]),this._v(" "+this._s(this.timeEstimateHumanReadable)+"\n")])}),[],!1,null,null,null).exports,f=a(716),v=a(62),T={name:"TimeTrackingComparisonPane",components:{GlProgressBar:f.a},directives:{tooltip:l.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1}},computed:{parsedTimeRemaining:function(){var t=this.timeEstimate-this.timeSpent;return Object(v.o)(t,{limitToHours:this.limitToHours})},timeRemainingHumanReadable:function(){return Object(v.r)(this.parsedTimeRemaining)},timeRemainingTooltip:function(){var t=this.timeRemainingHumanReadable;return this.timeRemainingMinutes<0?Object(i.e)(Object(i.d)("TimeTracking|Over by %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:t}):Object(i.e)(Object(i.d)("TimeTracking|Time remaining: %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:t})},timeRemainingMinutes:function(){return this.timeEstimate-this.timeSpent},timeRemainingPercent:function(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass:function(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant:function(){return this.timeRemainingPercent>100?"danger":"primary"}}},S=Object(n.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-tracking-comparison-pane"},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"compare-meter",class:t.timeRemainingStatusClass,attrs:{title:t.timeRemainingTooltip}},[a("gl-progress-bar",{attrs:{value:t.timeRemainingPercent,variant:t.progressBarVariant}}),t._v(" "),a("div",{staticClass:"compare-display-container"},[a("div",{staticClass:"compare-display float-left"},[a("span",{staticClass:"compare-label"},[t._v(t._s(t.s__("TimeTracking|Spent")))]),t._v(" "),a("span",{staticClass:"compare-value spent"},[t._v(t._s(t.timeSpentHumanReadable))])]),t._v(" "),a("div",{staticClass:"compare-display estimated float-right"},[a("span",{staticClass:"compare-label"},[t._v(t._s(t.s__("TimeTrackingEstimated|Est")))]),t._v(" "),a("span",{staticClass:"compare-value"},[t._v(t._s(t.timeEstimateHumanReadable))])])])],1)])}),[],!1,null,null,null).exports,y=a(135),w={name:"IssuableTimeTracker",components:{TimeTrackingCollapsedState:c,TimeTrackingEstimateOnlyPane:b,TimeTrackingSpentOnlyPane:u,TimeTrackingNoTrackingPane:h,TimeTrackingComparisonPane:S,TimeTrackingHelpState:r},props:{timeEstimate:{type:Number,required:!0},timeSpent:{type:Number,required:!0},humanTimeEstimate:{type:String,required:!1,default:""},humanTimeSpent:{type:String,required:!1,default:""},limitToHours:{type:Boolean,default:!1},rootPath:{type:String,required:!0}},data:function(){return{showHelp:!1}},computed:{hasTimeSpent:function(){return Boolean(this.timeSpent)},hasTimeEstimate:function(){return Boolean(this.timeEstimate)},showComparisonState:function(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState:function(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState:function(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState:function(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState:function(){return Boolean(this.showHelp)}},created:function(){y.a.$on("timeTracker:updateData",this.update)},methods:{toggleHelpState:function(t){this.showHelp=t},update:function(t){var e=t.timeEstimate,a=t.timeSpent,i=t.humanTimeEstimate,s=t.humanTimeSpent;this.timeEstimate=e,this.timeSpent=a,this.humanTimeEstimate=i,this.humanTimeSpent=s}}},_=Object(n.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time_tracker time-tracking-component-wrap"},[a("time-tracking-collapsed-state",{attrs:{"show-comparison-state":t.showComparisonState,"show-no-time-tracking-state":t.showNoTimeTrackingState,"show-help-state":t.showHelpState,"show-spent-only-state":t.showSpentOnlyState,"show-estimate-only-state":t.showEstimateOnlyState,"time-spent-human-readable":t.humanTimeSpent,"time-estimate-human-readable":t.humanTimeEstimate}}),t._v(" "),a("div",{staticClass:"title hide-collapsed"},[t._v("\n    "+t._s(t.__("Time tracking"))+"\n    "),t.showHelpState?t._e():a("div",{staticClass:"help-button float-right",on:{click:function(e){return t.toggleHelpState(!0)}}},[a("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),t.showHelpState?a("div",{staticClass:"close-help-button float-right",on:{click:function(e){return t.toggleHelpState(!1)}}},[a("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]):t._e()]),t._v(" "),a("div",{staticClass:"time-tracking-content hide-collapsed"},[t.showEstimateOnlyState?a("time-tracking-estimate-only-pane",{attrs:{"time-estimate-human-readable":t.humanTimeEstimate}}):t._e(),t._v(" "),t.showSpentOnlyState?a("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":t.humanTimeSpent}}):t._e(),t._v(" "),t.showNoTimeTrackingState?a("time-tracking-no-tracking-pane"):t._e(),t._v(" "),t.showComparisonState?a("time-tracking-comparison-pane",{attrs:{"time-estimate":t.timeEstimate,"time-spent":t.timeSpent,"time-spent-human-readable":t.humanTimeSpent,"time-estimate-human-readable":t.humanTimeEstimate,"limit-to-hours":t.limitToHours}}):t._e(),t._v(" "),a("transition",{attrs:{name:"help-state-toggle"}},[t.showHelpState?a("time-tracking-help-state",{attrs:{"root-path":t.rootPath}}):t._e()],1)],1)],1)}),[],!1,null,null,null);e.a=_.exports},716:function(t,e,a){"use strict";var i=a(63),s=a(79),n=a(142),r=a(181),o=a(37),l=i.a.extend({name:"BProgressBar",mixins:[n.a],inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:Number,default:0},label:{type:String,default:null},labelHtml:{type:String},max:{type:Number,default:null},precision:{type:Number,default:null},variant:{type:String,default:function(){return Object(s.b)("BProgressBar","variant")}},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.value/this.computedMax*100+"%"}},computedProgress:function(){var t=Math.pow(10,this.computedPrecision);return Math.round(100*t*this.value/this.computedMax)/t},computedMax:function(){return Object(o.f)(this.max)?this.max:this.bvProgress.max||100},computedVariant:function(){return this.variant||this.bvProgress.variant},computedPrecision:function(){return Object(o.f)(this.precision)?this.precision:this.bvProgress.precision||0},computedStriped:function(){return Object(o.a)(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(o.a)(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(o.a)(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(o.a)(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(t){var e=t();return this.hasNormalizedSlot("default")?e=this.normalizeSlot("default"):this.label||this.labelHtml?e=t("span",{domProps:Object(r.a)(this.labelHtml,this.label)}):this.computedShowProgress?e=this.computedProgress.toFixed(this.computedPrecision):this.computedShowValue&&(e=this.value.toFixed(this.computedPrecision)),t("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":this.computedMax.toString(),"aria-valuenow":this.value.toFixed(this.computedPrecision)}},[e])}}),d=i.a.extend({name:"BProgress",mixins:[n.a],provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:function(){return Object(s.b)("BProgress","variant")}},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:Number,default:100},value:{type:Number,default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(t){var e=this.normalizeSlot("default");return e||(e=t(l,{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),t("div",{class:["progress"],style:this.progressHeight},[e])}}),c=a(60);const m={components:{BProgress:d}};const u=a.n(c)()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-progress",this._b({},"b-progress",this.$attrs,!1))},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=u},780:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var i=a(0),s=a.n(i),n=a(11),r=a(14),o=a(528),l=a(1);function d(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bindTabsSwitching(),this.loadTab(s()(".js-milestone-tabs .active a")),this.loadInitialTab()}var e,a,i;return e=t,i=[{key:"initDeprecationMessage",value:function(){var t=document.querySelector(".js-milestone-deprecation-message");if(t){var e=t.querySelector(".js-milestone-deprecation-message-template").innerHTML,a=s()(".js-popover-link",t),i=o.c.bind(a,!1);a.popover({content:e,html:!0,placement:"bottom"}).on("mouseenter",o.b).on("mouseleave",Object(o.a)()).on("show.bs.popover",(function(){window.addEventListener("scroll",i,{once:!0})}))}}}],(a=[{key:"bindTabsSwitching",value:function(){var t=this;return s()('a[data-toggle="tab"]').on("show.bs.tab",(function(e){var a=s()(e.target);window.location.hash=a.attr("href"),t.loadTab(a)}))}},{key:"loadInitialTab",value:function(){var t=s()('.js-milestone-tabs a[href="'.concat(window.location.hash,'"]'));t.length&&t.tab("show")}},{key:"loadTab",value:function(t){var e=t.data("endpoint"),a=t.attr("href");e&&!t.hasClass("is-loaded")&&n.a.get(e).then((function(e){var i=e.data;s()(a).html(i.html),t.addClass("is-loaded")})).catch((function(){return Object(r.a)(Object(l.a)("Error loading milestone tab"))}))}}])&&d(e.prototype,a),i&&d(e,i),t}()},99:function(t,e,a){"use strict";var i=a(0),s=a.n(i);a(358);e.a={bind:function(t){var e=localStorage.getItem("gl-tooltip-delay"),a=e?JSON.parse(e):0;s()(t).tooltip({trigger:"hover",delay:a})},componentUpdated:function(t){s()(t).tooltip("_fixTitle");var e=s()(t).data("bs.tooltip"),a=e.getTipElement();e.setElementContent(s()(a.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){s()(t).tooltip("dispose")}}}}]);
//# sourceMappingURL=commons~pages.dashboard.milestones.show~pages.groups.milestones.show~pages.projects.milestones.show.573d5712.chunk.js.map