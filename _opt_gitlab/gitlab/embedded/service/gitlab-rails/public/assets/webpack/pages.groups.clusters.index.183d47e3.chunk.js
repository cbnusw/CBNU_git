(this.webpackJsonp=this.webpackJsonp||[]).push([[86],{125:function(t,e,n){t.exports=n(284)},159:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(85);var i=n(146),a=n(16);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var e,n,o;return e=t,(n=[{key:"checkConditions",value:function(t){var e=this,n=Object(a.D)(t.headers),r=parseInt(n[this.intervalHeader],10);r>0&&-1!==i.b.indexOf(t.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.makeRequest()}),r)),this.options.successCallback(t)}},{key:"makeRequest",value:function(){var t=this,e=this.options,n=e.resource,a=e.method,r=e.data,o=e.errorCallback,c=e.notificationCallback;return c(!0),n[a](r).then((function(e){t.checkConditions(e),c(!1)})).catch((function(t){c(!1),t.status!==i.a.ABORTED&&o(t)}))}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"enable",value:function(t){t&&t.data&&(this.options.data=t.data),this.canPoll=!0,t&&t.response&&this.checkConditions(t.response)}},{key:"restart",value:function(t){this.enable(t),this.makeRequest()}}])&&r(e.prototype,n),o&&r(e,o),t}()},2184:function(t,e,n){n(105),n(286),t.exports=n(2185)},2185:function(t,e,n){"use strict";n.r(e);var i=n(380),a=n(814);document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".gcp-signup-offer");i.a.factory(t),Object(a.a)()}))},284:function(t,e,n){!function(e){"use strict";var i=-1,a=function(t){return t.every=function(e,n,a){t._time(),a||(a=n,n=null);var r=i+=1;return t._timers[r]={visible:e,hidden:n,callback:a},t._run(r,!1),t.isSupported()&&t._listen(),r},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change((function(){t._stopRun(),t._wasHidden=t.hidden()})))},t._run=function(n,i){var a,r=t._timers[n];if(t.hidden()){if(null===r.hidden)return;a=r.hidden}else a=r.visible;var o=function(){r.last=new Date,r.callback.call(e)};if(i){var c=new Date-r.last;a>c?r.delay=setTimeout((function(){r.id=setInterval(o,a),o()}),a-c):(r.id=setInterval(o,a),o())}else r.id=setInterval(o,a)},t._stop=function(e){var n=t._timers[e];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},t._stopRun=function(e){var n=t.hidden(),i=t._wasHidden;if(n&&!i||!n&&i)for(var a in t._timers)t._stop(a),t._run(a,!n)},t};t.exports?t.exports=a(n(285)):a(e.Visibility)}(window)},285:function(t,e,n){!function(e){"use strict";var n=-1,i={onVisible:function(t){var e=i.isSupported();if(!e||!i.hidden())return t(),e;var n=i.change((function(e,a){i.hidden()||(i.unbind(n),t())}));return n},change:function(t){if(!i.isSupported())return!1;var e=n+=1;return i._callbacks[e]=t,i._listen(),e},unbind:function(t){delete i._callbacks[t]},afterPrerendering:function(t){var e=i.isSupported();if(!e||"prerender"!=i.state())return t(),e;var n=i.change((function(e,a){"prerender"!=a&&(i.unbind(n),t())}));return n},hidden:function(){return!(!i._doc.hidden&&!i._doc.webkitHidden)},state:function(){return i._doc.visibilityState||i._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!i._doc.visibilityState&&!i._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(t){var e=i.state();for(var n in i._callbacks)i._callbacks[n].call(i._doc,t,e)},_listen:function(){if(!i._init){var t="visibilitychange";i._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){i._change.apply(i,arguments)};i._doc.addEventListener?i._doc.addEventListener(t,e):i._doc.attachEvent(t,e),i._init=!0}}};t.exports?t.exports=i:e.Visibility=i}(this)},286:function(t,e,n){"use strict";n.r(e);var i=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(i.a)(document,gon)}))},814:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"fetchClusters",(function(){return D})),n.d(i,"default",(function(){return E}));var a=n(17),r=(n(24),n(28),n(26),n(50),n(58),n(38),n(27),n(22)),o=n(1579),c=n(760),s=n(835),l=n(99),u=n(1),d={project_type:Object(u.a)("Project"),group_type:Object(u.a)("Group"),instance_type:Object(u.a)("Instance")},f={disabled:{className:"disabled",title:Object(u.a)("Disabled")},connected:{className:"bg-success",title:Object(u.a)("Connected")},unreachable:{className:"bg-danger",title:Object(u.a)("Unreachable")},authentication_failure:{className:"bg-warning",title:Object(u.a)("Authentication Failure")},deleting:{title:Object(u.a)("Deleting")}};function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h,m={components:{GlTable:o.a,GlLoadingIcon:c.a,GlBadge:s.a},directives:{tooltip:l.a},fields:[{key:"name",label:Object(u.a)("Kubernetes cluster")},{key:"environmentScope",label:Object(u.a)("Environment scope")},{key:"size",label:Object(u.a)("Size")},{key:"cpu",label:Object(u.a)("Total cores (vCPUs)")},{key:"memory",label:Object(u.a)("Total memory (GB)")},{key:"clusterType",label:Object(u.a)("Cluster level"),formatter:function(t){return d[t]}}],computed:p({},Object(r.e)(["clusters","loading"])),mounted:function(){},methods:p({},Object(r.c)(["fetchClusters"]),{statusClass:function(t){return f[t].className},statusTitle:function(t){var e=f[t].title;return Object(u.e)(Object(u.a)("Status: %{title}"),{title:e},!1)}})},g=n(4),O=Object(g.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("gl-loading-icon",{staticClass:"mt-3",attrs:{size:"md"}}):n("gl-table",{staticClass:"qa-clusters-table",attrs:{items:t.clusters,fields:t.$options.fields,stacked:"md",variant:"light"},scopedSlots:t._u([{key:"cell(name)",fn:function(e){var i=e.item;return[n("div",{staticClass:"d-flex flex-row-reverse flex-md-row js-status"},[t._v("\n      "+t._s(i.name)+"\n      "),"deleting"===i.status?n("gl-loading-icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"mr-2 ml-md-2",attrs:{title:t.statusTitle(i.status),size:"sm"}}):n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cluster-status-indicator rounded-circle align-self-center gl-w-8 gl-h-8 mr-2 ml-md-2",class:t.statusClass(i.status),attrs:{title:t.statusTitle(i.status)}})],1)]}},{key:"cell(clusterType)",fn:function(e){var i=e.value;return[n("gl-badge",{attrs:{variant:"light"}},[t._v("\n      "+t._s(i)+"\n    ")])]}}])})}),[],!1,null,null,null).exports,y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{endpoint:t.endpoint,loading:!1,clusters:[]}};n(77);function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=(_(h={},"SET_LOADING_STATE",(function(t,e){t.loading=e})),_(h,"SET_CLUSTERS_DATA",(function(t,e){Object.assign(t,{clusters:e})})),h),k=n(16),w=n(159),S=n(11),C=n(125),T=n.n(C),P=n(14),D=function(t){var e=t.state,n=t.commit,i=new w.a({resource:{fetchClusters:function(t){return S.a.get(t)}},data:e.endpoint,method:"fetchClusters",successCallback:function(t){var e=t.data;n("SET_CLUSTERS_DATA",Object(k.g)(e,{deep:!0})),n("SET_LOADING_STATE",!1)},errorCallback:function(){return Object(P.a)(Object(u.a)("An error occurred while loading clusters"))}});T.a.hidden()||i.makeRequest(),T.a.change((function(){T.a.hidden()?i.stop():i.restart()}))},E=function(){};a.default.use(r.b);var I=function(t){return new r.b.Store({actions:i,mutations:j,state:y(t)})};e.a=function(){var t=document.querySelector("#js-clusters-list-app");if(t){var e=t.dataset.endpoint;new a.default({el:"#js-clusters-list-app",store:I({endpoint:e}),render:function(t){return t(O)}})}}},835:function(t,e,n){"use strict";var i=n(63),a=n(102),r=n(79),o=n(425),c=n(372);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=Object(c.b)();delete u.href.default,delete u.to.default;var d=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},u,{tag:{type:String,default:"span"},variant:{type:String,default:function(){return Object(r.b)("BBadge","variant")}},pill:{type:Boolean,default:!1}}),f=i.a.extend({name:"BBadge",functional:!0,props:d,render:function(t,e){var n=e.props,i=e.data,r=e.children,s=n.href||n.to?c.a:n.tag,l={staticClass:"badge",class:[n.variant?"badge-".concat(n.variant):"badge-secondary",{"badge-pill":Boolean(n.pill),active:n.active,disabled:n.disabled}],props:Object(o.a)(u,n)};return t(s,Object(a.a)(i,l),r)}}),b=n(60);const p={components:{BBadge:f},inheritAttrs:!1};const v=n.n(b)()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-badge",this._b({},"b-badge",this.$attrs,!1),[this._t("default")],2)},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=v},99:function(t,e,n){"use strict";var i=n(0),a=n.n(i);n(358);e.a={bind:function(t){var e=localStorage.getItem("gl-tooltip-delay"),n=e?JSON.parse(e):0;a()(t).tooltip({trigger:"hover",delay:n})},componentUpdated:function(t){a()(t).tooltip("_fixTitle");var e=a()(t).data("bs.tooltip"),n=e.getTipElement();e.setElementContent(a()(n.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){a()(t).tooltip("dispose")}}}},[[2184,1,0,2,9]]]);
//# sourceMappingURL=pages.groups.clusters.index.183d47e3.chunk.js.map