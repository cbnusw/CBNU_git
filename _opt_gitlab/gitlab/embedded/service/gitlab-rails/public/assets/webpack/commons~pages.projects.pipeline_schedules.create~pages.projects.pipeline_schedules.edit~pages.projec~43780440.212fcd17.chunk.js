(this.webpackJsonp=this.webpackJsonp||[]).push([[13],{1115:function(e,t,n){"use strict";var r,i=n(329),o=n(738),a=n(769),c=n(1109),s=n(1116),u=n(271),l=n(529).enforce,d=n(1181),f=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=e.exports=c("WeakMap",p,s);if(d&&f){r=s.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var b=v.prototype,g=b.delete,m=b.has,w=b.get,j=b.set;o(b,{delete:function(e){if(u(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen.delete(e)}return g.call(this,e)},has:function(e){if(u(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),m.call(this,e)||t.frozen.has(e)}return m.call(this,e)},get:function(e){if(u(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),m.call(this,e)?w.call(this,e):t.frozen.get(e)}return w.call(this,e)},set:function(e,t){if(u(e)&&!h(e)){var n=l(this);n.frozen||(n.frozen=new r),m.call(this,e)?j.call(this,e,t):n.frozen.set(e,t)}else j.call(this,e,t);return this}})}},1116:function(e,t,n){"use strict";var r=n(738),i=n(769).getWeakData,o=n(215),a=n(271),c=n(737),s=n(357),u=n(493),l=n(296),d=n(529),f=d.set,h=d.getterFor,p=u.find,v=u.findIndex,b=0,g=function(e){return e.frozen||(e.frozen=new m)},m=function(){this.entries=[]},w=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var n=w(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var d=e((function(e,r){c(e,d,t),f(e,{type:t,id:b++,frozen:void 0}),null!=r&&s(r,e[u],e,n)})),p=h(t),v=function(e,t,n){var r=p(e),a=i(o(t),!0);return!0===a?g(r).set(t,n):a[r.id]=n,e};return r(d.prototype,{delete:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?g(t).delete(e):n&&l(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?g(t).has(e):n&&l(n,t.id)}}),r(d.prototype,n?{get:function(e){var t=p(this);if(a(e)){var n=i(e);return!0===n?g(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),d}}},1117:function(e,t,n){"use strict";var r=n(108),i=n(234),o=n(1110);r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},113:function(e,t,n){"use strict";n.r(t);var r=n(88),i=n(70),o=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(o.a)(document,gon),new r.a,new i.a}))},306:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(26),n(18),n(64),n(27);var r=n(0),i=n.n(r),o=n(14),a=n(1),c=n(16);function s(e,t){e.classList.toggle("is-checked",t)}function u(e,t,n){var r=Object(c.F)(t.value);s(e,!r),e.setAttribute("disabled",!0),e.classList.toggle("is-loading",!0),Promise.resolve(n(!r,e)).then((function(){t.setAttribute("value",!r)})).catch((function(){s(e,r)})).then((function(){e.removeAttribute("disabled"),e.classList.toggle("is-loading",!1),i()(t).trigger("trigger-change")})).catch((function(){Object(o.a)(Object(a.a)("Something went wrong when toggling the button"))}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.querySelectorAll(".js-project-feature-toggle").forEach((function(e){var n=e.querySelector(".js-project-feature-toggle-input");s(e,Object(c.F)(n.value)),e.addEventListener("click",u.bind(null,e,n,t))}))}},522:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(30),n(42),n(258);var r=n(20),i=n.n(r);n(321);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultToggleLabel=t.defaultToggleLabel,this.fieldName=t.fieldName,this.onSelect=t.onSelect||function(){},this.getDataOption=t.getData,this.getDataRemote=Boolean(t.filterRemote),this.createNewItemFromValueOption=t.createNewItemFromValue,this.$dropdown=t.$dropdown,this.$dropdownContainer=this.$dropdown.parent(),this.$dropdownFooter=this.$dropdownContainer.find(".dropdown-footer"),this.$createButton=this.$dropdownContainer.find(".js-dropdown-create-new-item"),this.buildDropdown(),this.bindEvents(),this.toggleFooter(!0)}var t,n,r;return t=e,(n=[{key:"buildDropdown",value:function(){var e=this;this.$dropdown.glDropdown({data:this.getData.bind(this),filterable:!0,filterRemote:this.getDataRemote,search:{fields:["text"]},selectable:!0,toggleLabel:function(e){return e&&"id"in e?i.a.escape(e.title):this.defaultToggleLabel},fieldName:this.fieldName,text:function(e){return i.a.escape(e.text)},id:function(e){return i.a.escape(e.id)},onFilter:this.toggleCreateNewButton.bind(this),clicked:function(t){t.e.preventDefault(),e.onSelect()}})}},{key:"clearDropdown",value:function(){this.$dropdownContainer.find(".dropdown-content").html(""),this.$dropdownContainer.find(".dropdown-input-field").val("")}},{key:"bindEvents",value:function(){this.$createButton.on("click",this.onClickCreateWildcard.bind(this))}},{key:"onClickCreateWildcard",value:function(e){e.preventDefault(),this.refreshData(),this.$dropdown.data("glDropdown").selectRowAtIndex()}},{key:"refreshData",value:function(){this.$dropdown.data("glDropdown").remote.execute()}},{key:"getData",value:function(e,t){var n=this;this.getDataOption(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=n.selectedItem&&e.some((function(e){return e.id===n.selectedItem.id})),i=e;r||(i=e.concat(n.selectedItem||[])),t(i)}))}},{key:"createNewItemFromValue",value:function(e){return this.createNewItemFromValueOption?this.createNewItemFromValueOption(e):{title:e,id:e,text:e}}},{key:"toggleCreateNewButton",value:function(e){e&&(this.selectedItem=this.createNewItemFromValue(e),this.$dropdownContainer.find(".js-dropdown-create-new-item code").text(e)),this.toggleFooter(!e)}},{key:"toggleFooter",value:function(e){this.$dropdownFooter.toggleClass("hidden",e)}}])&&o(t.prototype,n),r&&o(t,r),e}()},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(24),n(49),n(56),n(40),n(90),n(18),n(36),n(41);var r=n(8),i=n.n(r),o=n(9);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=c(this,s(t).call(this)),i.a.bind("g p",(function(){return Object(o.a)(".shortcuts-project")})),i.a.bind("g v",(function(){return Object(o.a)(".shortcuts-project-activity")})),i.a.bind("g r",(function(){return Object(o.a)(".shortcuts-project-releases")})),i.a.bind("g f",(function(){return Object(o.a)(".shortcuts-tree")})),i.a.bind("g c",(function(){return Object(o.a)(".shortcuts-commits")})),i.a.bind("g j",(function(){return Object(o.a)(".shortcuts-builds")})),i.a.bind("g n",(function(){return Object(o.a)(".shortcuts-network")})),i.a.bind("g d",(function(){return Object(o.a)(".shortcuts-repository-charts")})),i.a.bind("g i",(function(){return Object(o.a)(".shortcuts-issues")})),i.a.bind("g b",(function(){return Object(o.a)(".shortcuts-issue-boards")})),i.a.bind("g m",(function(){return Object(o.a)(".shortcuts-merge_requests")})),i.a.bind("g w",(function(){return Object(o.a)(".shortcuts-wiki")})),i.a.bind("g s",(function(){return Object(o.a)(".shortcuts-snippets")})),i.a.bind("g k",(function(){return Object(o.a)(".shortcuts-kubernetes")})),i.a.bind("g e",(function(){return Object(o.a)(".shortcuts-environments")})),i.a.bind("g l",(function(){return Object(o.a)(".shortcuts-metrics")})),i.a.bind("i",(function(){return Object(o.a)(".shortcuts-new-issue")})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),t}(n(107).a)},73:function(e,t,n){"use strict";n(30),n(35),n(18),n(64);var r=n(0),i=n.n(r),o=n(32),a=(n(65),n(69),n(55),n(67),n(71));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=i()(t),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,r,o;return t=e,(r=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(239).then(n.t.bind(null,428,7)).then((function(){i()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&c(t.prototype,r),o&&c(t,o),e}(),u=n(1),l=function(){i()(".ajax-project-select").each((function(e,t){var n,r=this,a=i()(t).data("simpleFilter")||!1,c=i()(t).data("select2");return this.groupId=i()(t).data("groupId"),this.userId=i()(t).data("userId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,n=Object(u.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(u.d)("ProjectSelect| or group")),i()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=r.includeGroups?function(t){return o.a.groups(e.term,{},(function(e){var r=e.concat(t);return n(r)}))}:n,r.groupId?o.a.groupProjects(r.groupId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):r.userId?o.a.userProjects(r.userId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):o.a.projects(e.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},t)},id:function(e){return a?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return o.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||a?t:new s(t)}))};t.a=function(){return n.e(239).then(n.t.bind(null,428,7)).then(l).catch((function(){}))}},750:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(26),n(27);var r=n(1),i=n(16);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.container,r=t.valueSelector,i=void 0===r?".js-secret-value":r,o=t.placeholderSelector,a=void 0===o?".js-secret-value-placeholder":o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.valueSelector=i,this.placeholderSelector=a}var t,n,a;return t=e,(n=[{key:"init",value:function(){if(this.revealButton=this.container.querySelector(".js-secret-value-reveal-button"),this.revealButton){var e=Object(i.F)(this.revealButton.dataset.secretRevealStatus);this.updateDom(e),this.revealButton.addEventListener("click",this.onRevealButtonClicked.bind(this))}}},{key:"onRevealButtonClicked",value:function(){var e=Object(i.F)(this.revealButton.dataset.secretRevealStatus);this.updateDom(!e)}},{key:"updateDom",value:function(e){var t=this.container.querySelectorAll(this.valueSelector);t.forEach((function(t){t.classList.toggle("hide",!e)})),this.container.querySelectorAll(this.placeholderSelector).forEach((function(t){t.classList.toggle("hide",e)})),this.revealButton.textContent=e?Object(r.c)("Hide value","Hide values",t.length):Object(r.c)("Reveal value","Reveal values",t.length),this.revealButton.dataset.secretRevealStatus=e}}])&&o(t.prototype,n),a&&o(t,a),e}()},762:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(42);var r=n(0),i=n.n(r),o=n(801);function a(e){var t=e.container,n=e.formField,r=void 0===n?"variables":n,a=i()(t),c=new o.a({container:a,formField:r});c.init(),a.closest("form").on("submit trigger-submit",(function(){var e=a.find(".js-row").last();c.checkIfRowTouched(e)||(e.find("input, textarea").attr("name",""),e.find("select").attr("name",""))}))}},801:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n(24),n(28),n(42),n(26),n(104),n(40),n(65),n(46),n(129),n(69),n(258),n(50),n(58),n(38),n(18),n(311),n(55),n(68),n(36),n(1115),n(1117),n(27),n(41);var r=n(0),i=n.n(r),o=n(16),a=n(1),c=n(306),s=n(522),u=n(750);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=Object(a.d)("CiVariable|All environments");function p(e){return{title:"*"===e?h:e,id:e,text:"*"===e?Object(a.d)("CiVariable|* (All environments)"):e}}var v=function(){function e(t){var n=t.container,r=t.formField,o=t.maskableRegex;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=i()(n),this.formField=r,this.maskableRegex=new RegExp(o),this.environmentDropdownMap=new WeakMap,this.inputMap={id:{selector:".js-ci-variable-input-id",default:""},variable_type:{selector:".js-ci-variable-input-variable-type",default:"env_var"},key:{selector:".js-ci-variable-input-key",default:""},secret_value:{selector:".js-ci-variable-input-value",default:""},protected:{selector:".js-ci-variable-input-protected",default:i()(".js-ci-variable-input-protected").attr("data-default")},masked:{selector:".js-ci-variable-input-masked",default:i()(".js-ci-variable-input-masked").attr("data-default")},environment_scope:{selector:'input[name="'.concat(this.formField,'[variables_attributes][][environment_scope]"]'),default:"*"},_destroy:{selector:".js-ci-variable-input-destroy",default:""}},this.secretValues=new u.a({container:this.$container[0],valueSelector:".js-row:not(:last-child) .js-secret-value",placeholderSelector:".js-row:not(:last-child) .js-secret-value-placeholder"})}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.bindEvents(),this.secretValues.init()}},{key:"bindEvents",value:function(){var e=this;this.$container.find(".js-row").each((function(t,n){e.initRow(n)})),this.$container.on("click",".js-row-remove-button",(function(t){t.preventDefault(),e.removeRow(i()(t.currentTarget).closest(".js-row"))}));var t=Object.keys(this.inputMap).map((function(t){return e.inputMap[t].selector})).join(",");this.$container.on("blur",t,(function(t){var n=i()(t.currentTarget).closest(".js-row");n.is(":not(:last-child)")&&!e.checkIfRowTouched(n)&&e.removeRow(n)})),this.$container.on("input trigger-change",t,(function(t){var n=e.$container.find(".js-row").last();e.checkIfRowTouched(n)&&e.insertRow(n),e.validateMaskability(i()(t.currentTarget).closest(".js-row"))}))}},{key:"initRow",value:function(e){var t=this,n=i()(e);Object(c.a)(n[0]),n.find(this.inputMap.secret_value.selector).css("height","");var r=n.find(".js-variable-environment-toggle");if(r.length){var o=new s.a({$dropdown:r,defaultToggleLabel:h,fieldName:"".concat(this.formField,"[variables_attributes][][environment_scope]"),getData:function(e,n){return n(t.getEnvironmentValues())},createNewItemFromValue:p,onSelect:function(){t.refreshDropdownData(),n.find(t.inputMap.environment_scope.selector).trigger("trigger-change")}});o.clearDropdown(),this.environmentDropdownMap.set(n[0],o)}}},{key:"insertRow",value:function(e){var t=this,n=e.clone();n.removeAttr("data-is-persisted"),Object.keys(this.inputMap).forEach((function(e){var r=t.inputMap[e];n.find(r.selector).val(r.default)})),n.find(".dropdown-menu.show").each((function(e,t){t.classList.remove("show")})),this.initRow(n),e.after(n)}},{key:"removeRow",value:function(e){var t=i()(e);Object(o.F)(t.attr("data-is-persisted"))?(t.hide(),t.find(this.inputMap._destroy.selector).val(!0)):t.remove(),this.refreshDropdownData()}},{key:"checkIfRowTouched",value:function(e){var t=this;return Object.keys(this.inputMap).some((function(n){if(["protected","masked"].includes(n))return!1;var r=t.inputMap[n],i=e.find(r.selector);return i.length&&i.val()!==r.default}))}},{key:"validateMaskability",value:function(e){var t=e.find(this.inputMap.secret_value.selector).val(),n=this.maskableRegex.test(t)||""===t,r="true"===e.find(this.inputMap.masked.selector).val();e.find(this.inputMap.secret_value.selector).toggleClass("gl-field-error-outline",r&&!n),e.find(".js-secret-value-placeholder").toggleClass("gl-field-error-outline",r&&!n),e.find(".masking-validation-error").toggle(r&&!n)}},{key:"toggleEnableRow",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$container.find(this.inputMap.key.selector).attr("disabled",!e),this.$container.find(".js-row-remove-button").attr("disabled",!e)}},{key:"hideValues",value:function(){this.secretValues.updateDom(!1)}},{key:"getAllData",value:function(){var e=this;return this.$container.find(".js-row").toArray().slice(0,-1).map((function(t){var n={};return Object.keys(e.inputMap).forEach((function(r){var o=e.inputMap[r],a=i()(t).find(o.selector);a.length&&(n[r]=a.val())})),n}))}},{key:"getEnvironmentValues",value:function(){var e=this.$container.find(this.inputMap.environment_scope.selector).toArray().reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,d({},t.value,t.value))}),{});return Object.keys(e).map(p)}},{key:"refreshDropdownData",value:function(){var e=this;this.$container.find(".js-row").each((function(t,n){var r=e.environmentDropdownMap.get(n);r&&r.refreshData()}))}}])&&f(t.prototype,n),r&&f(t,r),e}()},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(42),n(89);var r=n(0),i=n.n(r),o=n(51),a=n.n(o),c=n(1),s=n(33);n(28),n(78),n(40),n(46),n(129),n(35),n(77),n(18),n(36),n(41);var u=function(e){return e.reduce((function(e,t){var n=t.name,r=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))}),{})},l=n(11),d=n(14),f=n(73);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i()("ul.clone-options-dropdown"),n=i()("#project_clone"),r=i()(".js-git-clone-holder .js-clone-dropdown-label"),o=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),c=r.text().trim();c.length>0&&i()("a:contains('".concat(c,"')"),t).addClass("is-active"),i()("a",t).on("click",(function(e){e.preventDefault();var r=i()(e.currentTarget),a=r.attr("href"),c=r.data("cloneType");i()(".is-active",t).removeClass("is-active"),i()('a[data-clone-type="'.concat(c,'"]')).each((function(){var e=i()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),o?o.dataset.clipboardText=a:n.val(a),i()(".js-git-empty .js-clone").text(a)})),e.initRefSwitcher(),i()(".project-refs-select").on("change",(function(){return i()(this).parents("form").submit()})),i()(".hide-no-ssh-message").on("click",(function(e){return a.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),i()(".hide-no-password-message").on("click",(function(e){return a.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),e.preventDefault()})),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return a.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,r;return t=e,r=[{key:"projectSelectDropdown",value:function(){Object(f.a)(),i()(".project-item-select").on("click",(function(t){return e.changeProject(i()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",i()(".js-project-refs-dropdown").each((function(){var n,r,o,a=i()(this),f=a.data("selected"),h=a.data("fieldName"),p=Boolean(a.data("visit")),v=a.closest("form"),b=v.attr("action"),g=Object(s.h)((n=v[0],r=new FormData(n),o=Array.from(r.keys()).map((function(e){var t=r.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),u(o)),b);return a.glDropdown({data:function(e,t){l.a.get(a.data("refsUrl"),{params:{ref:a.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(d.a)(Object(c.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:a.data("inputFieldName"),fieldName:h,renderRow:function(n){var r,i,o,a=e.cloneNode(!1),c=t.cloneNode(!1);return n===f&&(c.className="is-active"),c.textContent=n,c.dataset.ref=n,n.length>0&&p&&(c.href=Object(s.h)((o=n,(i=h)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),g)),a.appendChild(c),a},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;p||t.preventDefault()}})}))}}],(n=null)&&h(t.prototype,n),r&&h(t,r),e}()}}]);
//# sourceMappingURL=commons~pages.projects.pipeline_schedules.create~pages.projects.pipeline_schedules.edit~pages.projec~43780440.212fcd17.chunk.js.map